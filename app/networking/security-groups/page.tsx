"use client"

import { PageShell } from "@/components/page-shell"
import { CreateButton } from "../../../components/create-button"
import { StatusBadge } from "../../../components/status-badge"
import { securityGroups } from "../../../lib/data"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "../../../components/ui/select"
import { ActionMenu } from "../../../components/action-menu"
import { ChevronUp, ChevronDown, RefreshCw } from "lucide-react"
import { useState } from "react"
import { useRouter } from "next/navigation"
import { ShadcnDataTable } from "@/components/ui/shadcn-data-table"
import { Button } from "@/components/ui/button"
import { DeleteConfirmationModal } from "../../../components/delete-confirmation-modal"
import { useToast } from "../../../hooks/use-toast"
import { filterDataForUser, shouldShowEmptyState, getEmptyStateMessage } from "../../../lib/demo-data-filter"
import { EmptyState } from "../../../components/ui/empty-state"
import { Card, CardContent } from "@/components/ui/card"

export default function SecurityGroupListPage() {
  const router = useRouter()
  const { toast } = useToast()
  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false)
  const [selectedSecurityGroup, setSelectedSecurityGroup] = useState<any>(null)

  // Filter data based on user type for demo
  const filteredSecurityGroups = filterDataForUser(securityGroups)
  const showEmptyState = shouldShowEmptyState() && filteredSecurityGroups.length === 0

  const securityGroupIcon = (
    <svg width="464" height="220" viewBox="0 0 464 220" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-72">
      <g opacity="0.51">
        <path d="M77.7402 54.0699C185.66 83.8699 306.58 117.79 414.25 148.47C306.33 118.68 185.41 84.7499 77.7402 54.0699Z" fill="#686767"/>
        <path d="M156.75 15.24L168.34 18.34L168.31 18.4399L156.75 15.24Z" fill="#686767"/>
        <path d="M179.94 21.4301L191.53 24.52L191.45 24.84L179.88 21.64L179.94 21.4301Z" fill="#686767"/>
        <path d="M203.12 27.63L214.709 30.76L214.59 31.1801L203.02 28.02L203.12 27.63Z" fill="#686767"/>
        <path d="M226.29 33.88L237.88 37.01L237.74 37.5L226.17 34.34L226.29 33.88Z" fill="#686767"/>
        <path d="M249.46 40.14L261.05 43.26L260.9 43.83L249.32 40.67L249.46 40.14Z" fill="#686767"/>
        <path d="M272.64 46.39L284.22 49.52L284.05 50.16L272.47 46.99L272.64 46.39Z" fill="#686767"/>
        <path d="M295.81 52.64L307.39 55.77L307.2 56.48L295.62 53.3199L295.81 52.64Z" fill="#686767"/>
        <path d="M318.97 58.92L330.55 62.09L330.37 62.75L318.78 59.62L318.97 58.92Z" fill="#686767"/>
        <path d="M342.12 65.25L353.7 68.41L353.54 69L341.95 65.87L342.12 65.25Z" fill="#686767"/>
        <path d="M365.27 71.5699L376.85 74.74L376.71 75.25L365.12 72.13L365.27 71.5699Z" fill="#686767"/>
        <path d="M388.42 77.9L400 81.0601L399.88 81.5L388.29 78.38L388.42 77.9Z" fill="#686767"/>
        <path d="M411.58 84.23L423.15 87.39L423.05 87.76L411.47 84.63L411.58 84.23Z" fill="#686767"/>
        <path d="M434.72 90.58L446.281 93.78L446.24 93.9399L434.65 90.85L434.72 90.58Z" fill="#686767"/>
        <path d="M457.85 96.98L463.75 98.61L457.84 97.04L457.85 96.98Z" fill="#686767"/>
        <path d="M2.07043 100.6L9.80054 102.65C9.80054 102.65 9.83043 102.67 9.82043 102.69C9.82043 102.71 9.80052 102.72 9.78052 102.71L2.06055 100.6H2.07043Z" fill="#686767"/>
        <path d="M17.5307 104.7L25.2607 106.75C25.3107 106.76 25.3406 106.81 25.3306 106.86C25.3206 106.91 25.2706 106.94 25.2206 106.93L17.5006 104.82C17.4706 104.82 17.4506 104.78 17.4606 104.74C17.4606 104.71 17.5007 104.69 17.5407 104.7H17.5307Z" fill="#686767"/>
        <path d="M33.0001 108.81L40.7301 110.86C40.8101 110.88 40.8601 110.97 40.8401 111.05C40.8201 111.13 40.7302 111.18 40.6502 111.16L32.9302 109.05C32.8602 109.03 32.8201 108.96 32.8401 108.9C32.8601 108.83 32.9301 108.79 32.9901 108.81H33.0001Z" fill="#686767"/>
        <path d="M48.4601 112.92L56.1901 114.99C56.3001 115.02 56.3601 115.13 56.3301 115.23C56.3001 115.34 56.1901 115.4 56.0901 115.37L48.3702 113.28C48.2702 113.25 48.2102 113.15 48.2402 113.05C48.2702 112.95 48.3702 112.89 48.4702 112.92H48.4601Z" fill="#686767"/>
        <path d="M63.9103 117.07L71.6403 119.14C71.7603 119.17 71.8303 119.29 71.8003 119.41C71.7703 119.53 71.6503 119.6 71.5303 119.57L63.8103 117.48C63.7003 117.45 63.6303 117.33 63.6603 117.22C63.6903 117.11 63.8003 117.04 63.9203 117.07H63.9103Z" fill="#686767"/>
        <path d="M79.3705 121.21L87.1005 123.28C87.2305 123.31 87.3105 123.45 87.2705 123.58C87.2405 123.71 87.1005 123.79 86.9705 123.75L79.2505 121.66C79.1305 121.63 79.0505 121.5 79.0905 121.38C79.1205 121.26 79.2505 121.18 79.3705 121.22V121.21Z" fill="#686767"/>
        <path d="M94.8199 125.36L102.55 127.43C102.69 127.47 102.77 127.61 102.74 127.75C102.7 127.89 102.56 127.97 102.42 127.94L94.6999 125.85C94.5699 125.81 94.49 125.67 94.52 125.54C94.56 125.41 94.6899 125.33 94.8299 125.36H94.8199Z" fill="#686767"/>
        <path d="M110.27 129.51L118 131.58C118.15 131.62 118.24 131.78 118.2 131.93C118.16 132.08 118 132.17 117.85 132.13L110.13 130.04C109.98 130 109.9 129.85 109.94 129.7C109.98 129.55 110.13 129.47 110.28 129.51H110.27Z" fill="#686767"/>
        <path d="M125.731 133.65L133.461 135.72C133.621 135.76 133.721 135.93 133.681 136.1C133.641 136.26 133.471 136.36 133.301 136.32L125.581 134.23C125.421 134.19 125.331 134.03 125.371 133.87C125.411 133.71 125.571 133.62 125.731 133.66V133.65Z" fill="#686767"/>
        <path d="M141.18 137.8L148.91 139.87C149.08 139.92 149.19 140.1 149.14 140.27C149.09 140.44 148.91 140.55 148.74 140.5L141.02 138.41C140.85 138.36 140.75 138.19 140.8 138.02C140.85 137.85 141.02 137.75 141.19 137.8H141.18Z" fill="#686767"/>
        <path d="M156.63 141.95L164.36 144.02C164.55 144.07 164.66 144.26 164.61 144.45C164.56 144.64 164.37 144.75 164.18 144.7L156.46 142.61C156.28 142.56 156.17 142.38 156.22 142.19C156.27 142.01 156.45 141.9 156.63 141.95Z" fill="#686767"/>
        <path d="M172.09 146.1L179.82 148.17C180.02 148.22 180.13 148.43 180.08 148.62C180.03 148.82 179.82 148.94 179.63 148.88L171.91 146.79C171.72 146.74 171.6 146.54 171.66 146.35C171.72 146.16 171.91 146.04 172.1 146.1H172.09Z" fill="#686767"/>
        <path d="M187.54 150.26L195.26 152.35C195.45 152.4 195.56 152.6 195.51 152.79C195.46 152.98 195.26 153.09 195.07 153.04L187.34 150.97C187.14 150.92 187.03 150.72 187.08 150.52C187.13 150.32 187.33 150.21 187.53 150.26H187.54Z" fill="#686767"/>
        <path d="M202.981 154.44L210.701 156.53C210.881 156.58 210.981 156.76 210.941 156.94C210.891 157.12 210.711 157.22 210.531 157.18L202.801 155.11C202.621 155.06 202.511 154.87 202.561 154.69C202.611 154.5 202.801 154.4 202.981 154.44Z" fill="#686767"/>
        <path d="M218.42 158.63L226.14 160.72C226.31 160.77 226.41 160.94 226.36 161.11C226.31 161.28 226.14 161.38 225.98 161.33L218.25 159.26C218.08 159.21 217.97 159.04 218.02 158.86C218.07 158.69 218.24 158.58 218.42 158.63Z" fill="#686767"/>
        <path d="M233.861 162.82L241.581 164.91C241.741 164.95 241.831 165.11 241.791 165.27C241.751 165.43 241.59 165.52 241.43 165.48L233.7 163.41C233.54 163.37 233.44 163.2 233.49 163.04C233.53 162.88 233.701 162.78 233.861 162.83V162.82Z" fill="#686767"/>
        <path d="M249.301 167.01L257.021 169.1C257.161 169.14 257.251 169.29 257.211 169.43C257.171 169.57 257.021 169.66 256.881 169.62L249.151 167.55C249.001 167.51 248.911 167.36 248.951 167.21C248.991 167.06 249.141 166.97 249.291 167.01H249.301Z" fill="#686767"/>
        <path d="M264.75 171.2L272.47 173.29C272.6 173.33 272.68 173.46 272.65 173.6C272.61 173.73 272.48 173.81 272.35 173.78L264.62 171.71C264.48 171.67 264.4 171.53 264.44 171.39C264.48 171.25 264.62 171.17 264.76 171.21L264.75 171.2Z" fill="#686767"/>
        <path d="M280.191 175.39L287.911 177.48C288.031 177.51 288.101 177.64 288.071 177.76C288.041 177.88 287.911 177.95 287.791 177.92L280.061 175.85C279.931 175.82 279.861 175.69 279.891 175.56C279.921 175.43 280.051 175.36 280.181 175.39H280.191Z" fill="#686767"/>
        <path d="M295.631 179.58L303.351 181.67C303.461 181.7 303.521 181.81 303.491 181.92C303.461 182.03 303.351 182.09 303.241 182.07L295.511 180C295.391 179.97 295.331 179.85 295.361 179.73C295.391 179.61 295.511 179.55 295.631 179.58Z" fill="#686767"/>
        <path d="M311.07 183.77L318.79 185.87C318.88 185.9 318.94 185.99 318.91 186.09C318.88 186.18 318.79 186.24 318.69 186.21L310.96 184.14C310.86 184.11 310.79 184.01 310.82 183.9C310.85 183.8 310.95 183.73 311.06 183.76L311.07 183.77Z" fill="#686767"/>
        <path d="M326.511 187.98L334.231 190.09C334.291 190.11 334.331 190.17 334.311 190.23C334.291 190.29 334.231 190.33 334.171 190.31L326.441 188.26C326.361 188.24 326.321 188.16 326.341 188.08C326.361 188 326.441 187.96 326.521 187.98H326.511Z" fill="#686767"/>
        <path d="M341.94 192.21L349.66 194.32C349.66 194.32 349.7 194.36 349.7 194.38C349.7 194.41 349.66 194.42 349.64 194.42L341.91 192.37C341.91 192.37 341.841 192.31 341.851 192.27C341.861 192.23 341.91 192.2 341.95 192.21H341.94Z" fill="#686767"/>
        <path d="M357.37 196.44L362.25 197.78L357.36 196.48C357.36 196.48 357.34 196.47 357.35 196.46C357.35 196.45 357.36 196.44 357.37 196.45V196.44Z" fill="#686767"/>
        <g opacity="0.61">
          <path d="M433.45 67.08L430.149 69.34C430.149 69.34 430.13 69.34 430.12 69.34C430.11 69.34 430.12 69.3201 430.12 69.3101L433.44 67.08H433.45Z" fill="#686767"/>
          <path d="M423.56 73.87L416.96 78.4C416.96 78.4 416.84 78.42 416.81 78.37C416.78 78.32 416.79 78.25 416.84 78.22L423.49 73.76C423.52 73.74 423.56 73.7501 423.58 73.7801C423.6 73.8101 423.59 73.85 423.56 73.87Z" fill="#686767"/>
          <path d="M410.35 82.9301L403.75 87.46C403.66 87.52 403.55 87.5001 403.49 87.4101C403.43 87.3201 403.45 87.2101 403.54 87.1501L410.19 82.69C410.26 82.64 410.35 82.66 410.4 82.73C410.45 82.8 410.43 82.89 410.36 82.94L410.35 82.9301Z" fill="#686767"/>
          <path d="M397.13 91.9599L390.51 96.4699C390.41 96.5399 390.27 96.51 390.21 96.41C390.14 96.31 390.17 96.17 390.27 96.11L396.9 91.63C396.99 91.57 397.12 91.59 397.18 91.68C397.24 91.77 397.22 91.8999 397.13 91.9599Z" fill="#686767"/>
          <path d="M383.899 100.98L377.279 105.49C377.169 105.57 377.009 105.54 376.929 105.42C376.849 105.31 376.879 105.15 376.999 105.07L383.629 100.59C383.739 100.52 383.879 100.55 383.949 100.65C384.019 100.75 383.989 100.9 383.889 100.97L383.899 100.98Z" fill="#686767"/>
          <path d="M370.67 109.99L364.05 114.5C363.92 114.59 363.75 114.55 363.66 114.43C363.57 114.3 363.61 114.13 363.73 114.04L370.361 109.56C370.481 109.48 370.64 109.51 370.73 109.63C370.81 109.75 370.78 109.91 370.66 110L370.67 109.99Z" fill="#686767"/>
          <path d="M357.43 119L350.81 123.51C350.67 123.61 350.48 123.57 350.38 123.43C350.28 123.29 350.32 123.1 350.46 123L357.09 118.52C357.22 118.43 357.41 118.46 357.5 118.6C357.59 118.74 357.56 118.92 357.42 119.01L357.43 119Z" fill="#686767"/>
          <path d="M344.2 128.01L337.58 132.52C337.43 132.62 337.22 132.59 337.11 132.43C337.01 132.28 337.04 132.07 337.2 131.96L343.83 127.48C343.98 127.38 344.18 127.42 344.28 127.57C344.38 127.72 344.34 127.92 344.19 128.02L344.2 128.01Z" fill="#686767"/>
          <path d="M330.97 137.03L324.35 141.54C324.18 141.65 323.95 141.61 323.84 141.44C323.73 141.27 323.77 141.04 323.94 140.93L330.57 136.45C330.73 136.34 330.95 136.38 331.06 136.54C331.17 136.7 331.13 136.92 330.97 137.03Z" fill="#686767"/>
          <path d="M317.72 146.03L311.09 150.51C310.93 150.62 310.71 150.58 310.6 150.42C310.49 150.26 310.53 150.04 310.69 149.93L317.31 145.42C317.48 145.31 317.71 145.35 317.82 145.52C317.93 145.69 317.89 145.92 317.72 146.03Z" fill="#686767"/>
          <path d="M304.46 154.99L297.83 159.47C297.68 159.57 297.48 159.53 297.38 159.38C297.28 159.23 297.32 159.03 297.47 158.93L304.09 154.42C304.24 154.31 304.46 154.35 304.56 154.51C304.67 154.66 304.63 154.87 304.47 154.98L304.46 154.99Z" fill="#686767"/>
          <path d="M291.19 163.96L284.56 168.44C284.43 168.53 284.24 168.5 284.15 168.36C284.06 168.23 284.09 168.04 284.23 167.95L290.85 163.44C290.99 163.34 291.18 163.38 291.28 163.52C291.38 163.66 291.34 163.85 291.2 163.95L291.19 163.96Z" fill="#686767"/>
          <path d="M277.92 172.92L271.29 177.4C271.17 177.48 271 177.45 270.92 177.33C270.84 177.21 270.87 177.05 270.99 176.96L277.61 172.45C277.74 172.36 277.91 172.4 278 172.52C278.09 172.65 278.05 172.82 277.93 172.91L277.92 172.92Z" fill="#686767"/>
          <path d="M264.66 181.89L258.03 186.37C257.92 186.44 257.78 186.41 257.7 186.31C257.63 186.2 257.66 186.06 257.76 185.98L264.38 181.47C264.49 181.39 264.65 181.42 264.73 181.54C264.81 181.65 264.78 181.81 264.66 181.89Z" fill="#686767"/>
          <path d="M251.39 190.85L244.76 195.33C244.67 195.39 244.54 195.37 244.48 195.27C244.42 195.18 244.44 195.05 244.53 194.99L251.15 190.48C251.25 190.41 251.39 190.44 251.46 190.54C251.53 190.64 251.5 190.78 251.4 190.85H251.39Z" fill="#686767"/>
          <path d="M238.12 199.81L231.47 204.27C231.4 204.32 231.31 204.3 231.26 204.23C231.21 204.16 231.23 204.07 231.3 204.02L237.9 199.49C237.99 199.43 238.1 199.45 238.16 199.54C238.22 199.63 238.2 199.74 238.11 199.8L238.12 199.81Z" fill="#686767"/>
          <path d="M224.83 208.74L218.18 213.2C218.18 213.2 218.11 213.21 218.09 213.18C218.07 213.15 218.08 213.11 218.11 213.09L224.71 208.56C224.71 208.56 224.83 208.54 224.86 208.59C224.89 208.64 224.88 208.71 224.83 208.74Z" fill="#686767"/>
          <path d="M211.53 217.65L208.21 219.88L211.51 217.62C211.51 217.62 211.53 217.62 211.54 217.62C211.55 217.62 211.54 217.64 211.54 217.65H211.53Z" fill="#686767"/>
        </g>
        <path d="M368.28 44.92L364.92 47.1C364.92 47.1 364.9 47.1 364.89 47.1C364.88 47.1 364.89 47.0799 364.89 47.0699L368.27 44.9301L368.28 44.92Z" fill="#686767"/>
        <path d="M358.081 51.5401L351.241 55.98C351.241 55.98 351.121 56 351.091 55.95C351.061 55.9 351.071 55.8301 351.121 55.8001L358.011 51.4301C358.041 51.4101 358.081 51.42 358.101 51.45C358.121 51.48 358.111 51.5201 358.081 51.5401Z" fill="#686767"/>
        <path d="M344.39 60.4101L337.54 64.85C337.45 64.91 337.34 64.8801 337.28 64.7901C337.22 64.7001 337.25 64.5801 337.34 64.5301L344.23 60.1601C344.3 60.1201 344.39 60.14 344.44 60.21C344.48 60.28 344.46 60.3701 344.39 60.4201V60.4101Z" fill="#686767"/>
        <path d="M330.681 69.26L323.821 73.67C323.721 73.74 323.581 73.71 323.521 73.6C323.451 73.5 323.481 73.36 323.591 73.3L330.471 68.91C330.561 68.85 330.691 68.88 330.751 68.97C330.811 69.07 330.781 69.19 330.691 69.25L330.681 69.26Z" fill="#686767"/>
        <path d="M316.96 78.09L310.1 82.5C309.98 82.57 309.83 82.5401 309.76 82.4301C309.69 82.3101 309.72 82.16 309.83 82.09L316.71 77.7C316.82 77.63 316.96 77.6601 317.03 77.7701C317.1 77.8801 317.07 78.02 316.96 78.09Z" fill="#686767"/>
        <path d="M303.24 86.92L296.38 91.3299C296.25 91.4099 296.08 91.38 296 91.25C295.92 91.12 295.95 90.95 296.08 90.87L302.96 86.48C303.08 86.4 303.25 86.44 303.32 86.56C303.4 86.68 303.36 86.84 303.24 86.92Z" fill="#686767"/>
        <path d="M289.521 95.75L282.661 100.16C282.521 100.25 282.331 100.21 282.231 100.07C282.141 99.9299 282.181 99.74 282.321 99.64L289.201 95.25C289.341 95.16 289.521 95.1999 289.601 95.3399C289.691 95.4799 289.651 95.66 289.511 95.74L289.521 95.75Z" fill="#686767"/>
        <path d="M275.801 104.58L268.94 108.99C268.78 109.09 268.571 109.05 268.471 108.89C268.371 108.73 268.411 108.52 268.571 108.42L275.45 104.03C275.6 103.93 275.8 103.98 275.9 104.13C276 104.28 275.951 104.48 275.801 104.57V104.58Z" fill="#686767"/>
        <path d="M262.081 113.41L255.221 117.82C255.051 117.93 254.821 117.88 254.711 117.71C254.601 117.54 254.651 117.31 254.821 117.2L261.701 112.81C261.861 112.71 262.081 112.75 262.191 112.92C262.291 113.08 262.251 113.3 262.081 113.41Z" fill="#686767"/>
        <path d="M248.35 122.23L241.47 126.62C241.31 126.72 241.09 126.68 240.98 126.51C240.87 126.34 240.92 126.13 241.09 126.02L247.95 121.61C248.12 121.5 248.35 121.55 248.46 121.72C248.57 121.89 248.52 122.12 248.35 122.23Z" fill="#686767"/>
        <path d="M234.601 131.01L227.721 135.4C227.571 135.5 227.371 135.45 227.271 135.3C227.171 135.15 227.221 134.95 227.371 134.85L234.231 130.44C234.391 130.34 234.601 130.38 234.701 130.54C234.801 130.7 234.761 130.91 234.601 131.01Z" fill="#686767"/>
        <path d="M220.841 139.79L213.961 144.18C213.821 144.27 213.641 144.23 213.551 144.09C213.461 143.95 213.501 143.77 213.641 143.68L220.501 139.27C220.641 139.18 220.831 139.22 220.931 139.36C221.021 139.5 220.981 139.69 220.841 139.79Z" fill="#686767"/>
        <path d="M207.09 148.57L200.21 152.96C200.09 153.04 199.92 153 199.85 152.88C199.77 152.76 199.81 152.59 199.93 152.52L206.79 148.11C206.92 148.03 207.09 148.06 207.18 148.19C207.26 148.32 207.23 148.49 207.1 148.58L207.09 148.57Z" fill="#686767"/>
        <path d="M193.34 157.34L186.46 161.73C186.35 161.8 186.21 161.77 186.14 161.66C186.07 161.55 186.1 161.41 186.21 161.34L193.07 156.93C193.19 156.86 193.34 156.89 193.41 157C193.48 157.11 193.45 157.27 193.34 157.34Z" fill="#686767"/>
        <path d="M179.591 166.12L172.711 170.51C172.611 170.57 172.491 170.54 172.431 170.45C172.371 170.35 172.401 170.23 172.491 170.17L179.351 165.76C179.451 165.69 179.591 165.72 179.651 165.83C179.721 165.93 179.691 166.07 179.581 166.13L179.591 166.12Z" fill="#686767"/>
        <path d="M165.83 174.9L158.94 179.27C158.87 179.31 158.78 179.29 158.73 179.22C158.69 179.15 158.71 179.06 158.78 179.01L165.63 174.58C165.72 174.52 165.84 174.55 165.89 174.64C165.95 174.73 165.92 174.85 165.83 174.9Z" fill="#686767"/>
        <path d="M152.051 183.64L145.161 188.01C145.161 188.01 145.091 188.02 145.071 187.99C145.051 187.96 145.061 187.92 145.091 187.9L151.931 183.46C151.931 183.46 152.051 183.44 152.081 183.49C152.111 183.54 152.101 183.61 152.051 183.64Z" fill="#686767"/>
        <path d="M138.271 192.37L134.891 194.51L138.251 192.33C138.251 192.33 138.271 192.33 138.281 192.33C138.281 192.33 138.281 192.35 138.281 192.36L138.271 192.37Z" fill="#686767"/>
        <path d="M303.1 22.77C227.56 70.02 142.54 122.59 66.5098 169.06C142.05 121.81 227.07 69.24 303.1 22.77Z" fill="#686767"/>
        <path d="M237.93 0.619995L234.53 2.72998C234.53 2.72998 234.51 2.72998 234.5 2.72998C234.5 2.72998 234.5 2.70995 234.5 2.69995L237.92 0.630005L237.93 0.619995Z" fill="#686767"/>
        <path d="M227.541 7.05003L220.561 11.38C220.511 11.41 220.44 11.4 220.41 11.35C220.38 11.3 220.39 11.2299 220.44 11.1999L227.47 6.94993C227.5 6.92993 227.541 6.94995 227.561 6.96995C227.581 6.99995 227.561 7.04004 227.541 7.06004V7.05003Z" fill="#686767"/>
        <path d="M213.58 15.6999L206.6 20.02C206.51 20.07 206.39 20.0499 206.34 19.9599C206.29 19.8699 206.31 19.7499 206.4 19.6999L213.42 15.4399C213.49 15.3999 213.58 15.42 213.63 15.49C213.67 15.56 213.65 15.6499 213.58 15.6899V15.6999Z" fill="#686767"/>
        <path d="M199.6 24.32L192.6 28.62C192.5 28.68 192.36 28.6501 192.3 28.5501C192.24 28.4501 192.27 28.31 192.37 28.25L199.38 23.97C199.48 23.91 199.6 23.94 199.66 24.04C199.72 24.14 199.69 24.26 199.59 24.32H199.6Z" fill="#686767"/>
        <path d="M185.611 32.9301L178.611 37.23C178.491 37.3 178.341 37.2701 178.271 37.1501C178.201 37.0301 178.231 36.8801 178.351 36.8101L185.361 32.5301C185.471 32.4601 185.611 32.5 185.681 32.61C185.751 32.72 185.711 32.8601 185.601 32.9301H185.611Z" fill="#686767"/>
        <path d="M171.62 41.5301L164.62 45.83C164.49 45.91 164.32 45.87 164.24 45.74C164.16 45.61 164.2 45.44 164.33 45.36L171.34 41.08C171.46 41 171.63 41.0401 171.7 41.1701C171.78 41.2901 171.74 41.4601 171.61 41.5301H171.62Z" fill="#686767"/>
        <path d="M157.63 50.13L150.63 54.4301C150.49 54.5201 150.3 54.47 150.21 54.33C150.12 54.19 150.17 54 150.31 53.91L157.32 49.63C157.46 49.55 157.64 49.59 157.72 49.73C157.8 49.87 157.76 50.05 157.62 50.13H157.63Z" fill="#686767"/>
        <path d="M143.64 58.73L136.64 63.0301C136.48 63.1301 136.271 63.0801 136.181 62.9201C136.081 62.7601 136.13 62.55 136.29 62.46L143.3 58.1801C143.45 58.0901 143.65 58.1401 143.74 58.2901C143.83 58.4401 143.79 58.64 143.63 58.73H143.64Z" fill="#686767"/>
        <path d="M129.641 67.34L122.641 71.64C122.471 71.75 122.241 71.69 122.141 71.52C122.031 71.35 122.091 71.12 122.261 71.02L129.271 66.74C129.441 66.64 129.651 66.69 129.751 66.86C129.851 67.03 129.801 67.24 129.631 67.34H129.641Z" fill="#686767"/>
        <path d="M115.651 75.93L108.641 80.2099C108.471 80.3099 108.261 80.2599 108.151 80.0899C108.051 79.9199 108.101 79.7099 108.271 79.5999L115.271 75.3C115.441 75.19 115.671 75.25 115.781 75.42C115.891 75.59 115.831 75.82 115.661 75.93H115.651Z" fill="#686767"/>
        <path d="M101.62 84.4799L94.6101 88.76C94.4601 88.85 94.2602 88.8 94.1702 88.65C94.0802 88.5 94.1202 88.2999 94.2802 88.2099L101.28 83.91C101.44 83.81 101.65 83.86 101.75 84.02C101.85 84.18 101.8 84.3899 101.64 84.4899L101.62 84.4799Z" fill="#686767"/>
        <path d="M87.6002 93.0301L80.5902 97.3101C80.4502 97.3901 80.2702 97.35 80.1902 97.21C80.1102 97.07 80.1503 96.8901 80.2903 96.8101L87.2903 92.5101C87.4403 92.4201 87.6302 92.47 87.7102 92.61C87.7902 92.75 87.7502 92.9501 87.6102 93.0301H87.6002Z" fill="#686767"/>
        <path d="M73.5801 101.58L66.5701 105.86C66.4501 105.94 66.2801 105.9 66.2101 105.77C66.1301 105.65 66.1702 105.48 66.3002 105.41L73.3002 101.11C73.4302 101.03 73.6002 101.07 73.6802 101.2C73.7602 101.33 73.7201 101.5 73.5901 101.58H73.5801Z" fill="#686767"/>
        <path d="M59.5504 110.14L52.5404 114.42C52.4304 114.49 52.2904 114.45 52.2204 114.34C52.1504 114.23 52.1904 114.09 52.3004 114.02L59.3004 109.72C59.4204 109.65 59.5704 109.68 59.6404 109.8C59.7104 109.92 59.6804 110.07 59.5604 110.14H59.5504Z" fill="#686767"/>
        <path d="M45.5298 118.69L38.5198 122.97C38.4198 123.03 38.2998 123 38.2398 122.9C38.1798 122.8 38.2098 122.68 38.3098 122.62L45.3098 118.32C45.4098 118.26 45.5497 118.29 45.6097 118.39C45.6697 118.49 45.6398 118.63 45.5398 118.69H45.5298Z" fill="#686767"/>
        <path d="M31.5102 127.24L24.4901 131.5C24.4201 131.54 24.3302 131.52 24.2802 131.45C24.2402 131.38 24.2601 131.29 24.3301 131.24L31.3102 126.92C31.4002 126.86 31.5201 126.89 31.5701 126.98C31.6301 127.07 31.6002 127.19 31.5102 127.24Z" fill="#686767"/>
        <path d="M17.4603 135.75L10.4304 140C10.4304 140 10.3603 140 10.3403 139.98C10.3203 139.95 10.3403 139.91 10.3603 139.89L17.3403 135.56C17.3903 135.53 17.4603 135.54 17.4903 135.59C17.5203 135.64 17.5103 135.71 17.4603 135.74V135.75Z" fill="#686767"/>
        <path d="M3.41028 144.25L-0.00976562 146.32L3.39026 144.21C3.39026 144.21 3.41029 144.21 3.42029 144.21C3.42029 144.22 3.42029 144.23 3.42029 144.24L3.41028 144.25Z" fill="#686767"/>
      </g>
      <path fillRule="evenodd" clipRule="evenodd" d="M164.59 58.37L162.79 153.13C162.76 154.56 163.56 155.88 164.83 156.52L173.35 160.84C176.68 162.53 180.63 162.51 183.94 160.77L275.54 112.8C278.8 111.09 280.84 107.71 280.84 104.03V14.2801C280.84 10.6401 278.7 7.35003 275.37 5.87003L266.25 1.82999C263.85 0.769989 261.1 0.859979 258.78 2.06998L171.04 47.9101C167.14 49.9501 164.66 53.95 164.58 58.35L164.59 58.37Z" fill="white"/>
      <path d="M178.579 162.6C176.709 162.6 174.84 162.17 173.13 161.3L164.609 156.98C163.169 156.25 162.27 154.74 162.3 153.13L164.099 58.37C164.189 53.79 166.769 49.62 170.829 47.49L258.57 1.65001C261.04 0.360015 263.919 0.270015 266.469 1.40001L275.59 5.43993C279.09 6.98993 281.36 10.47 281.36 14.3V104.05C281.36 107.93 279.22 111.46 275.79 113.26L184.189 161.23C182.439 162.15 180.519 162.6 178.589 162.6H178.579ZM164.589 58.37H165.089L163.29 153.14C163.27 154.37 163.96 155.52 165.06 156.08L173.579 160.4C176.759 162.02 180.549 161.99 183.709 160.33L275.31 112.36C278.42 110.73 280.35 107.54 280.35 104.04V14.29C280.35 10.85 278.319 7.72996 275.179 6.33996L266.06 2.30004C263.79 1.29004 261.23 1.37002 259.03 2.53002L171.29 48.37C167.55 50.32 165.179 54.16 165.099 58.38H164.599L164.589 58.37Z" fill="#070101"/>
      <path d="M175.72 161.74V64.28C175.72 61.03 177.51 58.05 180.38 56.52L275.39 5.89001" fill="white"/>
      <path d="M176.22 161.74H175.22V64.28C175.22 60.84 177.11 57.7 180.14 56.08L275.15 5.44995L275.62 6.32996L180.61 56.96C177.9 58.4 176.22 61.21 176.22 64.28V161.74Z" fill="#A3A3A3"/>
      <path d="M175.72 150.61L162.75 143.95L163.21 143.06L175.72 149.48L280.62 95.9301L281.08 96.8199L175.72 150.61Z" fill="#A3A3A3"/>
      <path d="M239.12 134.04L258.11 144.18C260.53 145.47 260.55 148.93 258.15 150.26L222.13 170.07C220.75 170.83 219.09 170.86 217.68 170.15L191.34 156.91" fill="white"/>
      <path d="M219.819 171.16C219.009 171.16 218.199 170.97 217.449 170.6L191.109 157.36L191.559 156.47L217.899 169.71C219.159 170.34 220.649 170.31 221.879 169.63L257.899 149.82C258.869 149.29 259.439 148.31 259.429 147.21C259.419 146.11 258.839 145.14 257.869 144.62L238.879 134.48L239.349 133.6L258.339 143.74C259.639 144.43 260.419 145.73 260.429 147.2C260.429 148.68 259.669 149.98 258.379 150.69L222.359 170.5C221.569 170.93 220.689 171.15 219.819 171.15V171.16Z" fill="#070101"/>
      <path d="M239.239 131.83C239.239 131.83 238.539 138.76 240.469 144.5C240.859 145.65 240.339 146.9 239.259 147.44L215.249 159.53C215.249 159.53 211.399 158.95 212.749 154.14C212.749 154.14 213.409 150.89 212.789 145.68" fill="white"/>
      <path d="M215.329 160.05L215.169 160.03C215.099 160.03 213.509 159.77 212.579 158.34C211.869 157.24 211.759 155.78 212.259 154.01C212.259 154.01 212.879 150.8 212.279 145.74L213.269 145.62C213.889 150.85 213.249 154.1 213.219 154.24C212.799 155.76 212.859 156.94 213.409 157.78C213.949 158.62 214.829 158.92 215.169 159.01L239.019 147C239.879 146.56 240.289 145.58 239.979 144.66C238.039 138.89 238.699 132.07 238.729 131.78L239.729 131.88C239.729 131.95 239.059 138.78 240.929 144.34C241.389 145.71 240.769 147.24 239.479 147.89L215.329 160.06V160.05Z" fill="#A3A3A3"/>
      <path d="M317.819 54.25L310.759 49.97C310.759 49.97 302.069 55.07 276.129 49.97C276.129 49.97 265.239 67.11 243.469 80.2C243.469 80.2 236.029 126.47 269.069 136.6L291.569 123.66L317.819 54.26V54.25Z" fill="#52B54A"/>
      <path d="M269.13 137.13L268.92 137.07C235.84 126.94 242.9 80.58 242.97 80.12L243.01 79.89L243.21 79.77C264.62 66.9 275.6 49.87 275.7 49.7L275.88 49.41L276.21 49.48C301.58 54.46 310.4 49.59 310.49 49.54L310.75 49.39L318.42 54.04L291.96 124L291.8 124.09L269.11 137.13H269.13ZM243.93 80.49C243.44 83.99 238.17 126.39 269.01 136.04L291.16 123.3L317.2 54.46L310.73 50.54C309.07 51.36 299.78 55.07 276.35 50.52C274.81 52.82 263.88 68.44 243.92 80.5L243.93 80.49Z" fill="black"/>
      <path d="M317.99 54.1801C317.99 54.1801 297.98 60.24 280.73 56.02C280.73 56.02 270.86 71.56 249.92 84.72V101.97C249.92 101.97 248.21 133.17 283.95 142.78C283.95 142.78 298.62 132 309.06 107.64C315.09 93.58 317.98 78.3699 317.98 63.0699V54.1801H317.99Z" fill="white"/>
      <path d="M284.06 143.33L283.83 143.27C248.11 133.66 249.41 102.26 249.43 101.95V84.45L249.66 84.3C270.25 71.35 280.21 55.91 280.31 55.75L280.5 55.45L280.85 55.53C297.76 59.66 317.65 53.7499 317.84 53.6899L318.48 53.49V63.0601C318.48 78.9001 315.47 93.96 309.52 107.83C299.14 132.03 284.39 143.06 284.24 143.17L284.05 143.31L284.06 143.33ZM250.42 85V101.97C250.4 102.3 249.17 132.77 283.84 142.24C285.58 140.88 298.97 129.9 308.6 107.45C314.49 93.71 317.48 78.78 317.48 63.08V54.85C313.92 55.82 296.31 60.23 280.95 56.6C279.45 58.82 269.46 72.97 250.42 85.01V85Z" fill="black"/>
      <path d="M297.469 73.02L279.939 102.8L271.169 96.12L266.859 102.8L282.159 114.92L303.709 77.7L297.469 73.02Z" fill="white"/>
      <path d="M282.31 115.67L266.189 102.91L271.04 95.39L279.79 102.06L297.32 72.28L304.36 77.5601L282.3 115.66L282.31 115.67ZM267.52 102.69L282.02 114.17L303.05 77.84L297.62 73.76L280.08 103.54L271.29 96.85L267.52 102.69Z" fill="black"/>
      <path d="M188.149 100.95C187.719 100.97 187.299 100.75 187.089 100.34C186.809 99.79 187.019 99.11 187.579 98.82C206.549 89.05 242.629 70.4801 243.829 69.8001C244.319 69.5001 244.969 69.62 245.319 70.09C245.689 70.59 245.589 71.2901 245.089 71.6701C244.999 71.7401 244.709 71.95 188.609 100.82C188.459 100.9 188.309 100.94 188.149 100.94V100.95Z" fill="#52B54A"/>
      <path d="M188.099 101.32C187.539 101.32 187.019 101.01 186.759 100.51C186.579 100.15 186.539 99.7499 186.669 99.3599C186.799 98.9699 187.059 98.6699 187.409 98.4799C212.679 85.4699 242.579 70.0699 243.649 69.4699C244.299 69.0699 245.159 69.2299 245.629 69.8599C246.119 70.5199 245.979 71.4699 245.319 71.9599C245.199 72.0499 244.919 72.26 188.779 101.15C188.589 101.25 188.379 101.3 188.169 101.32C188.169 101.32 188.119 101.32 188.089 101.32H188.099ZM244.419 70.01C244.289 70.01 244.149 70.0499 244.029 70.1199C242.589 70.9199 193.359 96.26 187.749 99.15C187.569 99.24 187.439 99.3999 187.379 99.5899C187.319 99.7799 187.339 99.98 187.429 100.16C187.559 100.42 187.859 100.58 188.139 100.57C188.249 100.57 188.349 100.54 188.439 100.49C225.459 81.4399 244.449 71.6399 244.879 71.3599C245.209 71.1199 245.279 70.65 245.029 70.31C244.879 70.11 244.649 70.01 244.419 70.01Z" fill="black"/>
      <path d="M188.149 117.08C187.719 117.1 187.309 116.88 187.089 116.48C186.799 115.93 187.009 115.25 187.559 114.96C201.149 107.84 227.009 94.27 228.039 93.68C228.529 93.37 229.189 93.4899 229.539 93.9599C229.909 94.4599 229.809 95.16 229.309 95.54C229.219 95.61 228.929 95.8199 188.599 116.96C188.449 117.04 188.289 117.08 188.139 117.09L188.149 117.08Z" fill="#52B54A"/>
      <path d="M188.099 117.46C187.539 117.46 187.029 117.15 186.769 116.66C186.579 116.31 186.549 115.9 186.669 115.52C186.789 115.14 187.049 114.82 187.409 114.64C200.959 107.54 226.859 93.95 227.879 93.37C228.529 92.96 229.409 93.12 229.869 93.75C230.109 94.07 230.209 94.47 230.149 94.86C230.089 95.26 229.879 95.61 229.559 95.85C229.439 95.94 229.149 96.15 188.809 117.3C188.619 117.4 188.409 117.46 188.189 117.47C188.189 117.47 188.139 117.47 188.109 117.47L188.099 117.46ZM228.649 93.88C228.509 93.88 228.379 93.92 228.249 94C227.209 94.59 202.299 107.66 187.739 115.29C187.559 115.38 187.429 115.54 187.369 115.73C187.309 115.92 187.329 116.12 187.419 116.3C187.559 116.56 187.839 116.71 188.119 116.7C188.229 116.7 188.329 116.66 188.429 116.61C221.559 99.25 228.829 95.4 229.089 95.22C229.249 95.1 229.349 94.93 229.379 94.73C229.409 94.53 229.359 94.33 229.239 94.17C229.089 93.97 228.869 93.87 228.639 93.87L228.649 93.88Z" fill="black"/>
      <path d="M187.109 134.04C186.679 134.06 186.259 133.84 186.049 133.43C185.759 132.88 185.979 132.2 186.529 131.91L220.169 114.47C220.719 114.18 221.399 114.4 221.689 114.95C221.979 115.5 221.759 116.18 221.209 116.47L187.569 133.91C187.419 133.99 187.269 134.03 187.109 134.03V134.04Z" fill="#52B54A"/>
      <path d="M187.049 134.42C186.489 134.42 185.969 134.11 185.719 133.61C185.539 133.25 185.499 132.85 185.619 132.47C185.739 132.09 185.999 131.78 186.359 131.59L219.999 114.15C220.739 113.77 221.639 114.06 222.019 114.79C222.199 115.15 222.239 115.55 222.119 115.93C221.999 116.31 221.739 116.62 221.379 116.81L187.739 134.25C187.549 134.35 187.339 134.4 187.129 134.42C187.129 134.42 187.079 134.42 187.049 134.42ZM220.689 114.73C220.569 114.73 220.459 114.76 220.349 114.81L186.709 132.25C186.529 132.34 186.399 132.5 186.339 132.69C186.279 132.88 186.299 133.08 186.389 133.26C186.529 133.52 186.809 133.66 187.089 133.67C187.199 133.67 187.299 133.63 187.399 133.59L221.039 116.15C221.219 116.06 221.349 115.9 221.409 115.71C221.469 115.52 221.449 115.32 221.359 115.14C221.229 114.88 220.959 114.73 220.689 114.73Z" fill="black"/>
      <path d="M189.972 82.4707C190.649 80.9099 190.244 79.2316 189.068 78.7221C187.893 78.2126 186.391 79.0649 185.715 80.6257C185.039 82.1864 185.443 83.8648 186.619 84.3743C187.795 84.8838 189.296 84.0314 189.972 82.4707Z" fill="black"/>
      <path d="M197.46 78.8448C198.136 77.284 197.731 75.6057 196.556 75.0962C195.38 74.5867 193.879 75.439 193.202 76.9998C192.526 78.5606 192.931 80.239 194.106 80.7485C195.282 81.2579 196.783 80.4056 197.46 78.8448Z" fill="black"/>
      <path d="M204.775 75.1104C205.452 73.5497 205.047 71.8716 203.871 71.3621C202.695 70.8526 201.194 71.7047 200.518 73.2654C199.841 74.8262 200.246 76.5046 201.422 77.0141C202.597 77.5236 204.099 76.6712 204.775 75.1104Z" fill="black"/>
    </svg>
  )

  const handleDeleteClick = (securityGroup: any) => {
    setSelectedSecurityGroup(securityGroup)
    setIsDeleteModalOpen(true)
  }

  const handleDeleteConfirm = async () => {
    if (!selectedSecurityGroup) return
    
    // In a real app, this would delete the security group via API
    console.log("Deleting Security Group:", selectedSecurityGroup.name)
    
    // Simulate API call delay
    await new Promise(resolve => setTimeout(resolve, 1000))
    
    // Show success toast
    toast({
      title: "Security group deleted successfully",
      description: `Security Group "${selectedSecurityGroup.name}" deleted successfully`,
    })
    
    // Close modal and clear selection
    setIsDeleteModalOpen(false)
    setSelectedSecurityGroup(null)
    
    // In a real app, you would refresh the data here
    // For now, we'll just reload the page
    window.location.reload()
  }

  const columns = [
    {
      key: "name",
      label: "Security Group Name",
      sortable: true,
      searchable: true,
      render: (value: string, row: any) => (
        <a
          href={`/networking/security-groups/${row.id}`}
          className="text-primary font-medium hover:underline leading-5"
        >
          {value}
        </a>
      ),
    },
    {
      key: "vpcName",
      label: "VPC",
      searchable: true,
      render: (value: string) => (
        <div className="leading-5">{value}</div>
      ),
    },
    {
      key: "createdOn",
      label: "Created On",
      sortable: true,
      render: (value: string) => {
        const date = new Date(value);
        return (
          <div className="text-muted-foreground leading-5">
            {date.toLocaleDateString()} {date.toLocaleTimeString()}
          </div>
        );
      },
    },
    {
      key: "status",
      label: "Status",
      render: (value: string) => <StatusBadge status={value} />,
    },
    {
      key: "actions",
      label: "Action",
      align: "right" as const,
      render: (_: any, row: any) => (
        <div className="flex justify-end">
          <ActionMenu
            viewHref={`/networking/security-groups/${row.id}`}
            editHref={`/networking/security-groups/${row.id}/edit`}
            onCustomDelete={() => handleDeleteClick(row)}
            resourceName={row.name}
            resourceType="Security Group"
          />
        </div>
      ),
    },
  ]

  // Add actions property to each security group row for DataTable
  const dataWithActions = filteredSecurityGroups.map((sg) => ({ ...sg, actions: null }))

  const handleRefresh = () => {
    window.location.reload()
  }

  return (
    <PageShell
      title="Security Groups"
      description="Define and manage security groups to control inbound and outbound traffic for your cloud resources."
      headerActions={
        <CreateButton href="/networking/security-groups/create" label="Create Security Group" />
      }
    >
      {showEmptyState ? (
        <Card className="mt-8">
          <CardContent>
            <EmptyState
              {...getEmptyStateMessage('security-group')}
              icon={securityGroupIcon}
              onAction={() => window.location.href = '/networking/security-groups/create'}
            />
          </CardContent>
        </Card>
      ) : (
        <ShadcnDataTable
          columns={columns}
          data={dataWithActions}
          searchableColumns={["name", "vpcName"]}
          pageSize={10}
          enableSearch={true}
          enableColumnVisibility={false}
          enablePagination={true}
          onRefresh={handleRefresh}
          enableVpcFilter={true}
          vpcOptions={[
            { value: "all", label: "All VPCs" },
            { value: "production-vpc", label: "production-vpc" },
            { value: "development-vpc", label: "development-vpc" },
            { value: "staging-vpc", label: "staging-vpc" },
          ]}
        />
      )}

      {/* Delete Confirmation Modal */}
      <DeleteConfirmationModal
        isOpen={isDeleteModalOpen}
        onClose={() => {
          setIsDeleteModalOpen(false)
          setSelectedSecurityGroup(null)
        }}
        resourceName={selectedSecurityGroup?.name || ""}
        resourceType="Security Group"
        onConfirm={handleDeleteConfirm}
      />
    </PageShell>
  )
}
