"use client"

import { useState } from "react"
import { PageShell } from "@/components/page-shell"
import { CreateButton } from "../../../components/create-button"
import { StatusBadge } from "../../../components/status-badge"
import { VPCDeletionStatus } from "../../../components/vpc-deletion-status"
import { vpcs } from "../../../lib/data"
import { ActionMenu } from "../../../components/action-menu"
import { TooltipWrapper } from "../../../components/ui/tooltip-wrapper"
import { Button } from "../../../components/ui/button"
import { MoreVertical } from "lucide-react"
import { ShadcnDataTable } from "../../../components/ui/shadcn-data-table"
import { DeleteVPCResourceWarningModal, DeleteVPCConfirmationModal } from "../../../components/modals/delete-vpc-modals"
import { filterDataForUser, shouldShowEmptyState, getEmptyStateMessage } from "../../../lib/demo-data-filter"
import { EmptyState } from "../../../components/ui/empty-state"
import { Card, CardContent } from "../../../components/ui/card"

export default function VPCListPage() {
  const [deleteStep, setDeleteStep] = useState<"warning" | "confirmation" | null>(null)
  const [selectedVPC, setSelectedVPC] = useState<any>(null)

  // Filter data based on user type for demo
  const filteredVPCs = filterDataForUser(vpcs)
  const showEmptyState = shouldShowEmptyState() && filteredVPCs.length === 0

  const handleDeleteClick = (vpc: any) => {
    setSelectedVPC(vpc)
    setDeleteStep("warning")
  }

  const handleWarningConfirm = () => {
    setDeleteStep("confirmation")
  }

  const handleFinalDelete = async () => {
    // Simulate delete API call
    await new Promise(resolve => setTimeout(resolve, 1000))
    console.log("VPC deleted:", selectedVPC.name)
    
    // Close modals
    setDeleteStep(null)
    setSelectedVPC(null)
  }

  const handleCloseModals = () => {
    setDeleteStep(null)
    setSelectedVPC(null)
  }

  const columns = [
    {
      key: "name",
      label: "VPC Name",
      sortable: true,
      searchable: true,
      render: (value: string, row: any) => (
        <a
          href={`/networking/vpc/${row.id}`}
          className="text-primary font-medium hover:underline leading-5"
        >
          {row.name}
        </a>
      ),
    },
    {
      key: "status",
      label: "Status",
      sortable: true,
      render: (value: string, row: any) => {
        if (value === "deleting") {
          return <VPCDeletionStatus vpc={row} compact={true} />
        }
        return <StatusBadge status={value} />
      },
    },
    {
      key: "type",
      label: "Type",
      sortable: true,
      searchable: true,
      render: (value: string) => (
        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
          value === "Free" 
            ? "bg-emerald-100 text-emerald-700" 
            : "bg-orange-100 text-orange-700"
        }`}>
          {value}
        </span>
      ),
    },
    {
      key: "description",
      label: "Description",
      searchable: true,
      render: (value: string) => (
        <div className="max-w-xs truncate leading-5" title={value}>
          {value}
        </div>
      ),
    },
    {
      key: "createdOn",
      label: "Created On",
      sortable: true,
      render: (value: string) => {
        const date = new Date(value);
        return (
          <div className="text-muted-foreground leading-5">
            {date.toLocaleDateString()} {date.toLocaleTimeString()}
          </div>
        );
      },
    },
    {
      key: "actions",
      label: "Actions",
      align: "right" as const,
      render: (value: any, row: any) => (
        <div className="flex justify-end">
          {row.status === "deleting" ? (
            <TooltipWrapper content="Actions are disabled while VPC is being deleted">
              <Button variant="ghost" size="icon" className="rounded-full opacity-50 cursor-not-allowed" disabled>
                <MoreVertical className="h-5 w-5" />
              </Button>
            </TooltipWrapper>
          ) : (
            <ActionMenu
              viewHref={`/networking/vpc/${row.id}`}
              editHref={`/networking/vpc/${row.id}/edit`}
              onCustomDelete={() => handleDeleteClick(row)}
              resourceName={row.name}
              resourceType="VPC"
            />
          )}
        </div>
      ),
    },
  ]

  const handleRefresh = () => {
    // Add your refresh logic here
    console.log("ðŸ”„ Refreshing VPC data at:", new Date().toLocaleTimeString())
    // In a real app, this would typically:
    // - Refetch data from API
    // - Update state
    // - Show loading indicator
    // For demo purposes, we'll just log instead of reloading
    // window.location.reload()
  }

  // Custom VPC illustration
  const vpcIcon = (
    <svg width="466" height="218" viewBox="0 0 466 218" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-72">
      <g opacity="0.51">
        <path d="M82.2305 46.25C188.7 80.88 307.97 120.21 414.15 155.72C307.68 121.09 188.41 81.76 82.2305 46.25Z" fill="#686767"/>
        <path d="M162.9 11.02L174.35 14.6299L174.31 14.74L162.9 11.02Z" fill="#686767"/>
        <path d="M185.79 18.25L197.24 21.8601L197.141 22.1699L185.73 18.46L185.79 18.25Z" fill="#686767"/>
        <path d="M208.671 25.49L220.111 29.1299L219.971 29.55L208.551 25.8701L208.671 25.49Z" fill="#686767"/>
        <path d="M231.54 32.78L242.97 36.4199L242.82 36.9099L231.4 33.23L231.54 32.78Z" fill="#686767"/>
        <path d="M254.41 40.0701L265.84 43.71L265.66 44.27L254.24 40.5901L254.41 40.0701Z" fill="#686767"/>
        <path d="M277.27 47.3601L288.7 51L288.5 51.6399L277.08 47.95L277.27 47.3601Z" fill="#686767"/>
        <path d="M300.14 54.6499L311.57 58.29L311.35 59L299.92 55.3201L300.14 54.6499Z" fill="#686767"/>
        <path d="M323 61.97L334.42 65.6499L334.211 66.3L322.771 62.6499L323 61.97Z" fill="#686767"/>
        <path d="M345.841 69.3301L357.261 73.01L357.071 73.5901L345.641 69.9399L345.841 69.3301Z" fill="#686767"/>
        <path d="M368.681 76.6899L380.101 80.3701L379.941 80.8799L368.511 77.23L368.681 76.6899Z" fill="#686767"/>
        <path d="M391.52 84.05L402.95 87.74L402.81 88.1699L391.37 84.52L391.52 84.05Z" fill="#686767"/>
        <path d="M414.37 91.4199L425.79 95.1001L425.67 95.46L414.24 91.8101L414.37 91.4199Z" fill="#686767"/>
        <path d="M437.2 98.8101L448.61 102.53L448.56 102.68L437.11 99.0701L437.2 98.8101Z" fill="#686767"/>
        <path d="M460.02 106.24L465.84 108.14L460 106.3L460.02 106.24Z" fill="#686767"/>
        <path d="M4.54004 89.3201L12.17 91.72C12.17 91.72 12.2 91.74 12.19 91.76C12.19 91.78 12.17 91.79 12.15 91.78L4.54004 89.3201Z" fill="#686767"/>
        <path d="M19.8001 94.1201L27.4301 96.52C27.4301 96.52 27.5101 96.5898 27.4901 96.6398C27.4701 96.6898 27.4201 96.7199 27.3701 96.6999L19.7601 94.2399C19.7601 94.2399 19.7101 94.1898 19.7201 94.1598C19.7301 94.1298 19.7701 94.1101 19.8001 94.1201Z" fill="#686767"/>
        <path d="M35.0596 98.9199L42.6896 101.32C42.7696 101.35 42.8196 101.43 42.7896 101.52C42.7596 101.6 42.6796 101.65 42.5896 101.62L34.9797 99.1599C34.9097 99.1399 34.8796 99.07 34.8996 99C34.9196 98.93 34.9896 98.8999 35.0596 98.9199Z" fill="#686767"/>
        <path d="M50.3304 103.72L57.9604 106.14C58.0604 106.17 58.1204 106.29 58.0904 106.39C58.0604 106.49 57.9504 106.55 57.8404 106.52L50.2204 104.08C50.1204 104.05 50.0704 103.94 50.1004 103.84C50.1304 103.74 50.2404 103.69 50.3404 103.72H50.3304Z" fill="#686767"/>
        <path d="M65.5804 108.56L73.2104 110.98C73.3304 111.02 73.3904 111.14 73.3504 111.26C73.3104 111.38 73.1904 111.44 73.0704 111.4L65.4504 108.96C65.3404 108.92 65.2804 108.81 65.3104 108.7C65.3504 108.59 65.4604 108.53 65.5704 108.56H65.5804Z" fill="#686767"/>
        <path d="M80.8304 113.4L88.4604 115.82C88.5904 115.86 88.6604 116 88.6204 116.12C88.5804 116.25 88.4404 116.32 88.3204 116.28L80.7004 113.84C80.5804 113.8 80.5104 113.67 80.5504 113.55C80.5904 113.43 80.7204 113.36 80.8404 113.4H80.8304Z" fill="#686767"/>
        <path d="M96.0799 118.24L103.71 120.66C103.85 120.7 103.92 120.85 103.88 120.99C103.84 121.13 103.69 121.2 103.55 121.16L95.9299 118.72C95.7999 118.68 95.7199 118.54 95.7699 118.4C95.8199 118.26 95.9499 118.19 96.0899 118.24H96.0799Z" fill="#686767"/>
        <path d="M111.33 123.08L118.96 125.5C119.11 125.55 119.19 125.71 119.15 125.86C119.1 126.01 118.94 126.09 118.79 126.05L111.17 123.61C111.03 123.56 110.95 123.41 110.99 123.27C111.03 123.13 111.19 123.05 111.33 123.09V123.08Z" fill="#686767"/>
        <path d="M126.58 127.92L134.21 130.34C134.37 130.39 134.46 130.56 134.41 130.72C134.36 130.88 134.19 130.97 134.03 130.92L126.41 128.48C126.25 128.43 126.17 128.26 126.22 128.11C126.27 127.95 126.44 127.87 126.59 127.92H126.58Z" fill="#686767"/>
        <path d="M141.83 132.75L149.46 135.17C149.63 135.23 149.73 135.41 149.67 135.58C149.62 135.75 149.43 135.85 149.26 135.79L141.64 133.35C141.47 133.3 141.38 133.12 141.43 132.95C141.48 132.78 141.66 132.69 141.83 132.74V132.75Z" fill="#686767"/>
        <path d="M157.08 137.59L164.71 140.01C164.89 140.07 165 140.26 164.94 140.45C164.88 140.63 164.69 140.74 164.5 140.68L156.88 138.24C156.7 138.18 156.6 137.99 156.66 137.81C156.72 137.63 156.91 137.53 157.08 137.59Z" fill="#686767"/>
        <path d="M172.33 142.43L179.96 144.85C180.16 144.91 180.26 145.12 180.2 145.32C180.14 145.51 179.93 145.62 179.73 145.56L172.11 143.12C171.92 143.06 171.82 142.86 171.88 142.67C171.94 142.48 172.14 142.38 172.33 142.44V142.43Z" fill="#686767"/>
        <path d="M187.58 147.28L195.2 149.72C195.39 149.78 195.49 149.98 195.43 150.17C195.37 150.36 195.17 150.46 194.98 150.4L187.35 147.98C187.16 147.92 187.05 147.71 187.11 147.52C187.17 147.33 187.38 147.22 187.57 147.28H187.58Z" fill="#686767"/>
        <path d="M202.82 152.16L210.44 154.6C210.62 154.66 210.71 154.85 210.66 155.02C210.6 155.2 210.42 155.29 210.24 155.24L202.61 152.82C202.43 152.76 202.33 152.57 202.38 152.38C202.44 152.2 202.63 152.1 202.82 152.15V152.16Z" fill="#686767"/>
        <path d="M218.06 157.04L225.68 159.48C225.85 159.53 225.94 159.71 225.88 159.88C225.83 160.05 225.65 160.14 225.49 160.08L217.86 157.66C217.69 157.61 217.59 157.42 217.65 157.25C217.7 157.08 217.89 156.98 218.06 157.04Z" fill="#686767"/>
        <path d="M233.29 161.92L240.91 164.36C241.06 164.41 241.15 164.57 241.1 164.73C241.05 164.88 240.89 164.97 240.73 164.92L233.1 162.5C232.94 162.45 232.85 162.28 232.9 162.12C232.95 161.96 233.12 161.87 233.28 161.92H233.29Z" fill="#686767"/>
        <path d="M248.53 166.81L256.15 169.25C256.29 169.3 256.37 169.45 256.33 169.59C256.28 169.73 256.13 169.81 255.99 169.77L248.36 167.35C248.21 167.3 248.13 167.14 248.18 167C248.23 166.85 248.39 166.77 248.53 166.82V166.81Z" fill="#686767"/>
        <path d="M263.77 171.69L271.39 174.13C271.52 174.17 271.59 174.31 271.55 174.44C271.51 174.57 271.37 174.64 271.24 174.6L263.61 172.18C263.47 172.14 263.4 171.99 263.44 171.85C263.48 171.71 263.63 171.64 263.77 171.68V171.69Z" fill="#686767"/>
        <path d="M279.01 176.57L286.63 179.01C286.75 179.05 286.82 179.18 286.78 179.3C286.74 179.42 286.61 179.49 286.49 179.45L278.86 177.03C278.73 176.99 278.67 176.86 278.7 176.73C278.74 176.6 278.87 176.54 279 176.57H279.01Z" fill="#686767"/>
        <path d="M294.24 181.45L301.86 183.89C301.97 183.92 302.03 184.04 301.99 184.15C301.96 184.26 301.84 184.32 301.73 184.28L294.1 181.86C293.99 181.82 293.92 181.7 293.96 181.59C294 181.48 294.12 181.41 294.23 181.45H294.24Z" fill="#686767"/>
        <path d="M309.48 186.33L317.1 188.78C317.19 188.81 317.24 188.91 317.21 189C317.18 189.09 317.08 189.15 316.99 189.11L309.36 186.7C309.26 186.67 309.2 186.56 309.23 186.46C309.26 186.36 309.37 186.3 309.47 186.33H309.48Z" fill="#686767"/>
        <path d="M324.71 191.23L332.32 193.69C332.38 193.71 332.41 193.77 332.39 193.83C332.37 193.89 332.31 193.92 332.25 193.9L324.62 191.5C324.54 191.48 324.5 191.39 324.52 191.32C324.54 191.24 324.63 191.2 324.7 191.22L324.71 191.23Z" fill="#686767"/>
        <path d="M339.94 196.15L347.55 198.61C347.55 198.61 347.59 198.65 347.58 198.67C347.58 198.7 347.541 198.71 347.521 198.7L339.89 196.3C339.89 196.3 339.821 196.24 339.841 196.2C339.851 196.16 339.9 196.13 339.94 196.15Z" fill="#686767"/>
        <path d="M355.16 201.07L359.97 202.63L355.14 201.11C355.14 201.11 355.12 201.1 355.13 201.09C355.13 201.08 355.14 201.07 355.15 201.08L355.16 201.07Z" fill="#686767"/>
        <g opacity="0.61">
          <path d="M437.001 75.27L433.601 77.3799C433.601 77.3799 433.581 77.3799 433.571 77.3799C433.561 77.3799 433.571 77.3601 433.571 77.3501L436.991 75.27H437.001Z" fill="#686767"/>
          <path d="M426.801 81.6101L420.001 85.8401C419.951 85.8701 419.881 85.86 419.851 85.81C419.821 85.76 419.831 85.6899 419.881 85.6599L426.721 81.5C426.751 81.48 426.791 81.5 426.811 81.52C426.831 81.55 426.811 81.5901 426.791 81.6101H426.801Z" fill="#686767"/>
          <path d="M413.201 90.0602L406.401 94.2801C406.311 94.3401 406.191 94.3101 406.141 94.2201C406.081 94.1301 406.111 94.0101 406.201 93.9601L413.041 89.8002C413.111 89.7602 413.201 89.7802 413.251 89.8502C413.291 89.9202 413.271 90.0102 413.201 90.0602Z" fill="#686767"/>
          <path d="M399.591 98.49L392.781 102.69C392.681 102.75 392.541 102.72 392.481 102.62C392.421 102.52 392.451 102.38 392.551 102.32L399.381 98.1399C399.481 98.0799 399.601 98.11 399.661 98.21C399.721 98.31 399.691 98.43 399.591 98.49Z" fill="#686767"/>
          <path d="M385.961 106.9L379.151 111.1C379.031 111.17 378.881 111.14 378.811 111.02C378.741 110.9 378.771 110.75 378.891 110.68L385.721 106.5C385.831 106.43 385.971 106.47 386.041 106.58C386.111 106.69 386.071 106.83 385.961 106.9Z" fill="#686767"/>
          <path d="M372.341 115.31L365.531 119.51C365.401 119.59 365.231 119.55 365.151 119.42C365.071 119.29 365.111 119.12 365.241 119.04L372.071 114.86C372.191 114.78 372.361 114.82 372.431 114.95C372.501 115.08 372.471 115.24 372.341 115.31Z" fill="#686767"/>
          <path d="M358.711 123.72L351.901 127.92C351.761 128.01 351.571 127.96 351.481 127.82C351.391 127.68 351.441 127.49 351.581 127.4L358.411 123.22C358.551 123.14 358.731 123.18 358.811 123.32C358.891 123.46 358.851 123.64 358.711 123.72Z" fill="#686767"/>
          <path d="M345.091 132.12L338.281 136.32C338.121 136.42 337.911 136.37 337.821 136.21C337.721 136.05 337.771 135.84 337.931 135.75L344.761 131.57C344.911 131.48 345.111 131.52 345.201 131.68C345.291 131.83 345.251 132.03 345.091 132.12Z" fill="#686767"/>
          <path d="M331.461 140.53L324.651 144.73C324.481 144.84 324.251 144.78 324.151 144.61C324.041 144.44 324.101 144.21 324.271 144.11L331.101 139.93C331.271 139.83 331.481 139.88 331.581 140.05C331.681 140.22 331.631 140.43 331.461 140.53Z" fill="#686767"/>
          <path d="M317.831 148.93L311.001 153.11C310.831 153.21 310.621 153.16 310.511 152.99C310.411 152.82 310.461 152.61 310.631 152.51L317.441 148.31C317.611 148.2 317.841 148.26 317.951 148.43C318.061 148.6 318.001 148.83 317.831 148.94V148.93Z" fill="#686767"/>
          <path d="M304.171 157.29L297.341 161.47C297.191 161.56 296.991 161.52 296.891 161.36C296.801 161.21 296.841 161.01 297.001 160.92L303.811 156.72C303.971 156.62 304.181 156.67 304.281 156.83C304.381 156.99 304.331 157.2 304.171 157.3V157.29Z" fill="#686767"/>
          <path d="M290.511 165.64L283.681 169.82C283.541 169.9 283.361 169.86 283.281 169.72C283.201 169.58 283.241 169.4 283.381 169.32L290.191 165.12C290.341 165.03 290.531 165.08 290.621 165.22C290.711 165.36 290.661 165.56 290.521 165.64H290.511Z" fill="#686767"/>
          <path d="M276.851 174L270.021 178.18C269.901 178.26 269.731 178.22 269.661 178.09C269.591 177.96 269.621 177.8 269.751 177.73L276.561 173.53C276.691 173.45 276.861 173.49 276.941 173.62C277.021 173.75 276.981 173.92 276.851 174Z" fill="#686767"/>
          <path d="M263.2 182.36L256.37 186.54C256.26 186.61 256.12 186.57 256.05 186.46C255.98 186.35 256.02 186.21 256.13 186.14L262.94 181.94C263.06 181.87 263.21 181.9 263.28 182.02C263.35 182.14 263.32 182.29 263.2 182.36Z" fill="#686767"/>
          <path d="M249.541 190.72L242.711 194.9C242.611 194.96 242.491 194.93 242.431 194.83C242.371 194.73 242.401 194.61 242.501 194.55L249.311 190.35C249.411 190.29 249.551 190.32 249.611 190.42C249.671 190.52 249.641 190.66 249.541 190.72Z" fill="#686767"/>
          <path d="M235.881 199.07L229.041 203.23C228.971 203.27 228.881 203.25 228.831 203.18C228.791 203.11 228.811 203.02 228.881 202.97L235.681 198.75C235.771 198.69 235.891 198.72 235.941 198.81C236.001 198.9 235.971 199.02 235.881 199.07Z" fill="#686767"/>
          <path d="M222.201 207.39L215.361 211.54C215.361 211.54 215.291 211.54 215.271 211.52C215.251 211.49 215.271 211.45 215.291 211.43L222.091 207.2C222.141 207.17 222.211 207.18 222.241 207.23C222.271 207.28 222.261 207.35 222.211 207.38L222.201 207.39Z" fill="#686767"/>
          <path d="M208.511 215.69L205.091 217.77L208.491 215.66C208.491 215.66 208.511 215.66 208.521 215.66C208.521 215.67 208.521 215.68 208.521 215.69H208.511Z" fill="#686767"/>
        </g>
        <path d="M372.88 50.2L369.43 52.22C369.43 52.22 369.41 52.22 369.4 52.22C369.4 52.22 369.4 52.1999 369.4 52.1899L372.87 50.2H372.88Z" fill="#686767"/>
        <path d="M362.4 56.3501L355.36 60.47C355.31 60.5 355.24 60.4799 355.21 60.4299C355.18 60.3799 355.2 60.31 355.25 60.28L362.33 56.23C362.36 56.21 362.4 56.23 362.42 56.25C362.44 56.28 362.42 56.3201 362.4 56.3401V56.3501Z" fill="#686767"/>
        <path d="M348.32 64.6001L341.28 68.72C341.19 68.77 341.07 68.7399 341.02 68.6499C340.97 68.5599 341 68.4399 341.09 68.3899L348.17 64.3301C348.24 64.2901 348.33 64.3099 348.37 64.3899C348.41 64.4599 348.39 64.5501 348.32 64.5901V64.6001Z" fill="#686767"/>
        <path d="M334.23 72.82L327.18 76.9199C327.08 76.9799 326.94 76.95 326.88 76.84C326.82 76.73 326.85 76.6 326.96 76.54L334.03 72.4599C334.13 72.3999 334.25 72.44 334.31 72.53C334.37 72.62 334.33 72.75 334.24 72.81L334.23 72.82Z" fill="#686767"/>
        <path d="M320.12 81.03L313.07 85.1299C312.95 85.1999 312.8 85.1601 312.73 85.0401C312.66 84.9201 312.7 84.77 312.82 84.7L319.89 80.6201C320 80.5601 320.14 80.59 320.21 80.71C320.28 80.83 320.24 80.96 320.13 81.03H320.12Z" fill="#686767"/>
        <path d="M306.02 89.2299L298.97 93.33C298.84 93.41 298.67 93.3599 298.59 93.2299C298.51 93.0999 298.56 92.93 298.69 92.85L305.76 88.7699C305.89 88.6999 306.05 88.74 306.12 88.87C306.19 89 306.15 89.1599 306.02 89.2299Z" fill="#686767"/>
        <path d="M291.91 97.43L284.86 101.53C284.71 101.62 284.52 101.57 284.44 101.42C284.35 101.27 284.4 101.08 284.55 101L291.62 96.92C291.76 96.84 291.94 96.8901 292.02 97.0301C292.1 97.1701 292.05 97.35 291.91 97.43Z" fill="#686767"/>
        <path d="M277.81 105.63L270.76 109.73C270.6 109.82 270.39 109.77 270.3 109.61C270.21 109.45 270.26 109.24 270.42 109.15L277.49 105.07C277.64 104.98 277.84 105.03 277.93 105.19C278.02 105.35 277.97 105.54 277.81 105.63Z" fill="#686767"/>
        <path d="M263.7 113.83L256.65 117.93C256.47 118.03 256.25 117.97 256.15 117.8C256.05 117.62 256.11 117.4 256.28 117.3L263.35 113.22C263.52 113.12 263.73 113.18 263.83 113.35C263.93 113.52 263.87 113.73 263.7 113.83Z" fill="#686767"/>
        <path d="M249.59 122.03L242.52 126.11C242.35 126.21 242.13 126.15 242.04 125.98C241.94 125.81 242 125.6 242.17 125.5L249.22 121.4C249.4 121.3 249.62 121.36 249.72 121.53C249.82 121.71 249.76 121.93 249.59 122.03Z" fill="#686767"/>
        <path d="M235.46 130.18L228.39 134.26C228.24 134.35 228.04 134.3 227.95 134.14C227.86 133.99 227.91 133.79 228.07 133.7L235.12 129.6C235.28 129.51 235.49 129.56 235.58 129.72C235.67 129.88 235.62 130.09 235.46 130.18Z" fill="#686767"/>
        <path d="M221.33 138.33L214.26 142.41C214.12 142.49 213.94 142.44 213.86 142.3C213.78 142.16 213.83 141.98 213.97 141.9L221.02 137.8C221.17 137.71 221.36 137.76 221.44 137.91C221.53 138.06 221.48 138.25 221.33 138.33Z" fill="#686767"/>
        <path d="M207.19 146.48L200.12 150.56C199.99 150.63 199.83 150.59 199.76 150.46C199.69 150.33 199.73 150.17 199.86 150.1L206.91 146C207.04 145.92 207.21 145.97 207.29 146.1C207.37 146.23 207.32 146.4 207.19 146.48Z" fill="#686767"/>
        <path d="M193.06 154.63L185.99 158.71C185.88 158.77 185.73 158.74 185.67 158.62C185.61 158.51 185.64 158.37 185.76 158.3L192.81 154.2C192.93 154.13 193.08 154.17 193.15 154.29C193.22 154.41 193.18 154.56 193.06 154.63Z" fill="#686767"/>
        <path d="M178.92 162.78L171.85 166.86C171.75 166.92 171.63 166.88 171.57 166.78C171.51 166.68 171.55 166.56 171.64 166.5L178.69 162.4C178.79 162.34 178.93 162.37 178.99 162.48C179.05 162.58 179.02 162.72 178.91 162.78H178.92Z" fill="#686767"/>
        <path d="M164.79 170.93L157.71 174.98C157.64 175.02 157.55 175 157.5 174.92C157.46 174.85 157.48 174.76 157.55 174.71L164.59 170.59C164.68 170.54 164.8 170.57 164.85 170.66C164.9 170.75 164.87 170.87 164.78 170.92L164.79 170.93Z" fill="#686767"/>
        <path d="M150.63 179.03L143.55 183.08C143.55 183.08 143.48 183.08 143.46 183.06C143.44 183.03 143.46 182.99 143.48 182.97L150.52 178.84C150.57 178.81 150.64 178.83 150.67 178.88C150.7 178.93 150.68 179 150.63 179.03Z" fill="#686767"/>
        <path d="M136.47 187.14L133 189.13L136.45 187.11C136.45 187.11 136.47 187.11 136.48 187.11C136.48 187.12 136.48 187.13 136.48 187.14H136.47Z" fill="#686767"/>
        <path d="M308.77 25.1399C231.17 68.9399 143.88 117.63 65.8301 160.62C143.42 116.82 230.72 68.1399 308.77 25.1399Z" fill="#686767"/>
        <path d="M244.661 0.0700684L241.171 2.02002C241.171 2.02002 241.151 2.02002 241.141 2.02002C241.141 2.01002 241.141 1.99999 241.141 1.98999L244.651 0.0700684H244.661Z" fill="#686767"/>
        <path d="M234 6.03002L226.83 10.04C226.78 10.07 226.71 10.05 226.68 9.99999C226.65 9.94999 226.67 9.88009 226.72 9.85009L233.93 5.91991C233.96 5.89991 234 5.91994 234.02 5.94994C234.04 5.97994 234.02 6.02003 233.99 6.04003L234 6.03002Z" fill="#686767"/>
        <path d="M219.66 14.0401L212.49 18.0401C212.4 18.0901 212.28 18.0601 212.23 17.9701C212.18 17.8801 212.21 17.76 212.3 17.71L219.51 13.7701C219.58 13.7301 219.67 13.7602 219.71 13.8302C219.75 13.9002 219.72 13.9901 219.65 14.0301L219.66 14.0401Z" fill="#686767"/>
        <path d="M205.311 22.0301L198.131 26.0101C198.021 26.0701 197.891 26.03 197.831 25.93C197.771 25.82 197.811 25.6899 197.921 25.6299L205.121 21.67C205.221 21.62 205.341 21.6501 205.401 21.7501C205.461 21.8501 205.421 21.9701 205.321 22.0301H205.311Z" fill="#686767"/>
        <path d="M190.941 29.9901L183.761 33.97C183.641 34.04 183.491 33.9902 183.421 33.8702C183.351 33.7502 183.401 33.6001 183.521 33.5301L190.721 29.5701C190.831 29.5101 190.981 29.55 191.041 29.66C191.101 29.77 191.061 29.9101 190.951 29.9801L190.941 29.9901Z" fill="#686767"/>
        <path d="M176.581 37.9499L169.401 41.9299C169.271 41.9999 169.101 41.9601 169.021 41.8201C168.941 41.6801 168.991 41.5199 169.131 41.4399L176.331 37.48C176.461 37.41 176.621 37.4601 176.691 37.5801C176.761 37.7101 176.711 37.8699 176.591 37.9399L176.581 37.9499Z" fill="#686767"/>
        <path d="M162.21 45.9199L155.03 49.8999C154.88 49.9799 154.69 49.93 154.61 49.78C154.53 49.63 154.58 49.4401 154.73 49.3601L161.93 45.3999C162.07 45.3199 162.25 45.37 162.33 45.52C162.41 45.66 162.36 45.8399 162.22 45.9199H162.21Z" fill="#686767"/>
        <path d="M147.85 53.8799L140.67 57.8601C140.51 57.9501 140.3 57.89 140.21 57.73C140.12 57.57 140.18 57.36 140.34 57.27L147.54 53.3101C147.7 53.2201 147.89 53.2799 147.98 53.4399C148.07 53.5999 148.01 53.7899 147.85 53.8799Z" fill="#686767"/>
        <path d="M133.48 61.8402L126.3 65.8202C126.12 65.9202 125.9 65.85 125.8 65.68C125.7 65.5 125.77 65.28 125.94 65.18L133.14 61.2201C133.31 61.1301 133.52 61.1902 133.62 61.3602C133.72 61.5302 133.65 61.7402 133.48 61.8402Z" fill="#686767"/>
        <path d="M119.11 69.7899L111.91 73.7499C111.74 73.8399 111.52 73.78 111.43 73.61C111.34 73.44 111.4 73.2198 111.57 73.1298L118.75 69.1498C118.93 69.0498 119.15 69.1199 119.25 69.2899C119.35 69.4699 119.28 69.6899 119.11 69.7899Z" fill="#686767"/>
        <path d="M104.72 77.71L97.52 81.6699C97.36 81.7599 97.17 81.7 97.08 81.54C96.99 81.38 97.0501 81.1901 97.2101 81.1001L104.39 77.1201C104.55 77.0301 104.76 77.09 104.85 77.25C104.94 77.41 104.88 77.62 104.72 77.71Z" fill="#686767"/>
        <path d="M90.3205 85.6202L83.1205 89.5801C82.9805 89.6601 82.8005 89.61 82.7205 89.46C82.6405 89.32 82.6905 89.1401 82.8405 89.0601L90.0205 85.0801C90.1705 85.0001 90.3605 85.05 90.4405 85.2C90.5205 85.35 90.4705 85.5402 90.3205 85.6202Z" fill="#686767"/>
        <path d="M75.9309 93.5301L68.7309 97.4901C68.6009 97.5601 68.4409 97.51 68.3709 97.39C68.3009 97.26 68.3509 97.1001 68.4709 97.0301L75.6509 93.0501C75.7809 92.9801 75.9509 93.02 76.0309 93.16C76.1109 93.3 76.0609 93.4601 75.9209 93.5401L75.9309 93.5301Z" fill="#686767"/>
        <path d="M61.5401 101.44L54.3401 105.4C54.2301 105.46 54.0801 105.42 54.0201 105.31C53.9601 105.2 54.0001 105.05 54.1101 104.99L61.2901 101.01C61.4101 100.94 61.5601 100.99 61.6301 101.11C61.7001 101.23 61.6501 101.38 61.5301 101.45L61.5401 101.44Z" fill="#686767"/>
        <path d="M47.14 109.35L39.94 113.31C39.84 113.36 39.72 113.33 39.66 113.23C39.6 113.13 39.64 113.01 39.74 112.95L46.92 108.97C47.03 108.91 47.16 108.95 47.22 109.06C47.28 109.17 47.24 109.3 47.13 109.36L47.14 109.35Z" fill="#686767"/>
        <path d="M32.7502 117.26L25.5402 121.19C25.4702 121.23 25.3802 121.2 25.3402 121.13C25.3002 121.06 25.3302 120.97 25.4002 120.93L32.5702 116.93C32.6602 116.88 32.7802 116.91 32.8302 117C32.8802 117.09 32.8502 117.21 32.7602 117.26H32.7502Z" fill="#686767"/>
        <path d="M18.3305 125.13L11.1205 129.06C11.1205 129.06 11.0505 129.06 11.0305 129.03C11.0105 129 11.0305 128.96 11.0605 128.94L18.2305 124.93C18.2805 124.9 18.3505 124.92 18.3805 124.97C18.4105 125.02 18.3905 125.09 18.3405 125.12L18.3305 125.13Z" fill="#686767"/>
        <path d="M3.9104 132.99L0.400391 134.9L3.89041 132.95C3.89041 132.95 3.91041 132.95 3.92041 132.95C3.92041 132.96 3.92041 132.97 3.92041 132.98L3.9104 132.99Z" fill="#686767"/>
      </g>
      <path d="M290.03 84.3301C291.01 68.7301 289.18 53.1001 287.35 37.5701C286.98 34.4101 286.6 31.2402 285.99 28.1102C285.69 26.5502 285.28 24.9201 284.16 23.7901C282.6 22.2101 280.12 22.0602 277.9 22.1202C275.92 22.1702 273.42 22.0101 271.51 22.5801C269.47 23.1901 269.21 24.0301 267.36 25.0201C231.24 44.1901 194.39 61.9701 156.89 78.2901C150.32 81.1501 152.36 84.6201 152.19 90.7901C151.99 98.1601 151.82 105.53 151.8 112.91C151.76 127.86 152.32 142.85 154.42 157.67C154.79 160.3 155.33 163.14 157.33 164.88C159.28 166.57 162.1 166.75 164.67 166.59C175.06 165.93 184.73 161.06 193.37 155.24C202 149.42 209.93 142.57 218.83 137.17C222.33 135.05 225.96 133.16 229.61 131.32C239.17 126.52 248.9 122.06 258.78 117.96C266.62 114.7 274.7 111.62 281.63 106.6C288.93 101.3 289.49 92.9601 290.03 84.3301Z" fill="white"/>
      <path d="M163.59 167.84C160.85 167.86 158.12 167.12 155.68 165.63C151.25 162.92 148.58 158.19 148.54 153L148.04 86.3899C148 80.5399 151.4 75.18 156.7 72.72L271.89 19.3201C276.52 17.1701 281.86 17.52 286.17 20.25C290.48 22.98 293.08 27.66 293.12 32.76L293.58 95.0701C293.62 100.81 290.46 105.97 285.33 108.54L170.17 166.24C168.08 167.29 165.82 167.82 163.58 167.84H163.59ZM278.15 24.4399C276.97 24.4399 275.79 24.71 274.65 25.24L159.46 78.6399C156.48 80.0199 154.57 83.0401 154.59 86.3301L155.09 152.94C155.11 155.86 156.61 158.52 159.11 160.05C161.6 161.58 164.65 161.71 167.27 160.4L282.43 102.7C285.32 101.25 287.09 98.3501 287.07 95.1201L286.61 32.81C286.59 29.9 285.16 27.33 282.7 25.77C281.29 24.88 279.73 24.4299 278.16 24.4499L278.15 24.4399Z" fill="#52B54A"/>
      <path d="M163.48 168.34C160.65 168.34 157.87 167.55 155.42 166.05C150.84 163.25 148.08 158.36 148.04 152.99L147.54 86.3799C147.5 80.3399 151.01 74.79 156.49 72.25L271.68 18.8501C276.47 16.6301 281.98 16.9901 286.44 19.8101C290.9 22.6301 293.58 27.47 293.62 32.74L294.08 95.0601C294.12 100.99 290.86 106.33 285.55 108.98L170.39 166.68C168.24 167.76 165.95 168.31 163.58 168.33H163.47L163.48 168.34ZM278.19 18.4099C276.13 18.4099 274.05 18.86 272.11 19.76L156.92 73.1599C151.79 75.5399 148.51 80.7201 148.55 86.3701L149.05 152.98C149.09 158 151.67 162.57 155.95 165.19C158.24 166.59 160.84 167.33 163.49 167.33H163.6C165.82 167.31 167.96 166.79 169.97 165.79L285.13 108.09C290.09 105.61 293.15 100.62 293.11 95.0701L292.65 32.75C292.61 27.82 290.1 23.2899 285.93 20.6499C283.57 19.1599 280.9 18.3999 278.21 18.3999L278.19 18.4099ZM163.48 161.79C161.87 161.79 160.27 161.35 158.83 160.47C156.19 158.85 154.6 156.04 154.58 152.94L154.08 86.3301C154.05 82.8501 156.08 79.6499 159.24 78.1799L274.43 24.78C275.62 24.23 276.86 23.95 278.13 23.94H278.19C279.85 23.94 281.49 24.4201 282.94 25.3401C285.55 26.9901 287.06 29.7101 287.08 32.8001L287.54 95.1101C287.57 98.5301 285.68 101.61 282.62 103.14L167.46 160.84C166.19 161.47 164.83 161.79 163.47 161.79H163.48ZM278.15 24.44V24.94C277.03 24.94 275.92 25.2 274.87 25.69L159.68 79.0901C156.87 80.3901 155.08 83.2301 155.1 86.3201L155.6 152.93C155.62 155.68 157.03 158.18 159.38 159.61C161.72 161.05 164.59 161.17 167.05 159.94L282.21 102.24C284.92 100.88 286.6 98.1501 286.57 95.1101L286.11 32.8001C286.09 30.0601 284.75 27.6499 282.44 26.1799C281.14 25.3499 279.68 24.9499 278.17 24.9299V24.4299L278.15 24.44Z" fill="#070101"/>
      <path d="M231.11 52.47L283.31 77.8501V138.93L231.11 165.87L178.99 138.62V77.22L231.11 52.47Z" fill="white"/>
      <path d="M231.11 166.43L230.88 166.31L178.49 138.92V76.8999L231.11 51.9099L231.33 52.02L283.81 77.53V139.23L231.11 166.43ZM179.49 138.31L231.11 165.3L282.8 138.62V78.1499L231.1 53.02L179.49 77.53V138.31Z" fill="#070101"/>
      <path d="M231.61 165.24H230.61V102.59L230.89 102.46L283.71 76.46L284.15 77.3501L231.61 103.22V165.24Z" fill="#070101"/>
      <path d="M179.263 76.2724L178.816 77.1672L230.933 103.163L231.379 102.268L179.263 76.2724Z" fill="#070101"/>
      <path d="M252.68 124.9C252.26 125.88 252.12 126.95 251.79 127.97C251.52 128.8 250.94 129.42 250.54 130.17C250.14 130.92 249.98 131.65 249.56 132.38C249.14 133.11 248.68 134.37 248.08 134.95L244.66 138.2L239.52 135.04C236.94 133.75 237.36 129.58 237.36 129.58C237.85 119.92 245.21 118.5 245.21 118.5C245.19 115.39 245.8 112.33 247.33 109.7C247.42 109.54 247.52 109.38 247.62 109.22C249.27 106.53 251.47 104.45 254.29 103.45C257.54 102.3 261.78 104.83 264.77 106.06C264.72 106.04 264.08 107.3 264.01 107.37C263.53 107.9 262.72 108.09 262.09 108.38C260.36 109.18 258.65 110.05 257.07 111.18C256.38 111.67 255.69 112.24 255.28 113.02C254.73 114.05 254.72 115.32 254.73 116.51C254.74 118.33 254.76 120.21 254.14 121.89C253.75 122.94 253.12 123.86 252.69 124.88L252.68 124.9Z" fill="#52B54A"/>
      <path d="M244.72 138.83L239.26 135.46C236.44 134.05 236.85 129.71 236.86 129.53C237.29 120.95 243.11 118.6 244.71 118.12C244.74 114.82 245.47 111.91 246.89 109.45C246.99 109.28 247.08 109.12 247.18 108.96C249.02 105.97 251.35 103.96 254.11 102.99C256.96 101.99 260.43 103.57 263.22 104.85C263.83 105.13 264.41 105.39 264.94 105.61L264.75 106.07L265.11 106.4C265.05 106.49 264.81 106.92 264.69 107.15C264.46 107.57 264.42 107.64 264.37 107.71C263.94 108.19 263.34 108.42 262.8 108.63C262.62 108.7 262.45 108.77 262.29 108.84C260.75 109.56 258.96 110.44 257.35 111.59C256.72 112.04 256.08 112.55 255.71 113.26C255.24 114.15 255.21 115.26 255.22 116.52C255.23 118.41 255.25 120.32 254.59 122.08C254.36 122.69 254.06 123.26 253.77 123.81C253.54 124.23 253.32 124.66 253.13 125.1C252.89 125.65 252.75 126.24 252.6 126.86C252.5 127.29 252.39 127.71 252.26 128.13C252.07 128.72 251.76 129.19 251.45 129.65C251.28 129.9 251.12 130.15 250.98 130.42C250.81 130.74 250.69 131.06 250.56 131.39C250.4 131.8 250.24 132.22 249.99 132.65C249.86 132.87 249.73 133.15 249.59 133.44C249.27 134.11 248.9 134.88 248.42 135.33C248.36 135.38 245 138.58 245 138.58L244.72 138.85V138.83ZM256.09 103.67C255.52 103.67 254.97 103.75 254.45 103.93C251.91 104.82 249.76 106.69 248.04 109.49C247.94 109.65 247.85 109.8 247.76 109.96C246.37 112.36 245.69 115.23 245.71 118.51V118.92L245.31 119C245.02 119.06 238.32 120.48 237.86 129.61C237.86 129.67 237.51 133.47 239.74 134.59L244.59 137.57C246.704 135.563 247.774 134.55 247.8 134.53C248.08 134.25 248.41 133.58 248.69 132.98C248.84 132.67 248.98 132.37 249.13 132.13C249.34 131.77 249.48 131.4 249.63 131.01C249.77 130.65 249.91 130.3 250.1 129.94C250.26 129.64 250.44 129.36 250.62 129.09C250.9 128.67 251.16 128.27 251.31 127.82C251.44 127.42 251.54 127.02 251.63 126.62C251.78 125.99 251.94 125.33 252.21 124.71C252.41 124.24 252.65 123.79 252.89 123.34C253.18 122.8 253.45 122.28 253.66 121.73C254.25 120.14 254.24 118.32 254.22 116.56C254.21 115.13 254.25 113.89 254.83 112.79C255.3 111.9 256.08 111.27 256.78 110.77C258.46 109.57 260.3 108.66 261.88 107.93C262.06 107.85 262.26 107.77 262.45 107.69C262.9 107.52 263.36 107.34 263.63 107.04C263.63 107.03 263.72 106.86 263.82 106.68C263.9 106.54 263.96 106.41 264.03 106.3C263.64 106.13 263.23 105.94 262.81 105.75C260.73 104.8 258.25 103.67 256.08 103.67H256.09Z" fill="#070101"/>
      <path d="M266.491 107.64C266.491 107.64 268.291 106.69 269.771 107.4C271.251 108.11 273.681 109.76 273.681 109.76L270.931 113.15C270.931 113.15 265.981 112.29 266.011 112.13C266.041 111.97 266.491 107.65 266.491 107.65V107.64Z" fill="#52B54A"/>
      <path d="M271.13 113.69L270.841 113.64C265.851 112.77 265.74 112.61 265.6 112.42L265.48 112.25L265.51 112.04C265.54 111.87 265.81 109.29 265.98 107.59L266.01 107.32L266.25 107.2C266.33 107.16 268.29 106.15 269.98 106.95C271.47 107.66 273.861 109.28 273.961 109.35L274.41 109.66L271.13 113.7V113.69ZM266.55 111.79C267.26 111.97 269.04 112.31 270.72 112.61L272.94 109.88C272.17 109.37 270.59 108.36 269.55 107.86C268.61 107.41 267.451 107.79 266.961 107.99C266.841 109.1 266.65 110.96 266.56 111.8L266.55 111.79Z" fill="#070101"/>
      <path d="M256.879 135.05L271.979 127.17C271.979 127.17 278.559 123.51 277.619 114.42C277.619 114.42 276.519 106.36 267.749 111.24C267.749 111.24 267.409 103.84 259.389 105.62C259.389 105.62 250.529 107.78 249.779 121.56C249.779 121.56 241.259 122.88 242.109 133.94C242.109 133.94 243.209 140.59 249.449 138.62L256.869 135.05" fill="white"/>
      <path d="M247.26 139.48C246.26 139.48 245.37 139.23 244.58 138.75C242.18 137.28 241.64 134.15 241.62 134.02C240.85 124 247.57 121.6 249.31 121.16C249.78 114.12 252.39 110.16 254.52 108.07C256.9 105.74 259.18 105.16 259.27 105.14C261.94 104.54 264.09 104.86 265.67 106.07C267.38 107.38 267.96 109.38 268.15 110.46C270.92 109.06 273.23 108.8 275.02 109.69C277.62 110.99 278.09 114.21 278.11 114.35C279.07 123.68 272.28 127.57 272.21 127.6L257.09 135.5L249.67 139.07C248.81 139.35 248.01 139.48 247.26 139.48ZM242.61 133.9C242.61 133.9 243.11 136.67 245.11 137.9C246.23 138.59 247.65 138.67 249.31 138.14L256.66 134.6L271.75 126.72C271.99 126.58 278.02 123.1 277.13 114.46C277.13 114.45 276.71 111.63 274.58 110.57C272.96 109.76 270.75 110.13 268 111.66L267.3 112.05L267.26 111.25C267.26 111.25 267.09 108.38 265.07 106.84C263.73 105.82 261.86 105.57 259.51 106.09C259.5 106.09 257.37 106.64 255.18 108.81C253.16 110.81 250.67 114.65 250.29 121.57L250.27 121.97L249.87 122.03C249.54 122.08 241.82 123.43 242.62 133.87L242.61 133.9Z" fill="black"/>
    </svg>
  );

  return (
    <PageShell
      title="Virtual Private Cloud"
      description="Create and manage your Virtual Private Clouds (VPCs) to logically isolate and organize your cloud resources."
      headerActions={
        <CreateButton href="/networking/vpc/create" label="Create VPC" />
      }
    >
      {showEmptyState ? (
        <Card className="mt-8">
          <CardContent>
            <EmptyState
              {...getEmptyStateMessage('vpc')}
              onAction={() => window.location.href = '/networking/vpc/create'}
              icon={vpcIcon}
            />
          </CardContent>
        </Card>
      ) : (
        <ShadcnDataTable 
          columns={columns} 
          data={filteredVPCs}
          searchableColumns={["name", "type", "description"]}
          pageSize={10}
          enableSearch={true}
          enableColumnVisibility={false}
          enablePagination={true}
          onRefresh={handleRefresh}
          enableAutoRefresh={true}
          enableVpcFilter={false}
        />
      )}

      {/* Step 1: Resource Warning Modal */}
      {selectedVPC && (
        <DeleteVPCResourceWarningModal
          open={deleteStep === "warning"}
          onClose={handleCloseModals}
          vpc={selectedVPC}
          onConfirm={handleWarningConfirm}
        />
      )}

      {/* Step 2: Name Confirmation Modal */}
      {selectedVPC && (
        <DeleteVPCConfirmationModal
          open={deleteStep === "confirmation"}
          onClose={handleCloseModals}
          vpc={selectedVPC}
          onConfirm={handleFinalDelete}
        />
      )}
    </PageShell>
  )
}
