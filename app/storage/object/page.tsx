"use client"

import { useState } from "react"
import { PageLayout } from "@/components/page-layout"
import { ShadcnDataTable } from "@/components/ui/shadcn-data-table"
import { StatusBadge } from "@/components/status-badge"
import { ActionMenu } from "@/components/action-menu"
import { Button } from "@/components/ui/button"
import { DeleteConfirmationModal } from "@/components/delete-confirmation-modal"
import { useToast } from "@/hooks/use-toast"
import { EmptyState } from "@/components/ui/empty-state"
import { Card, CardContent } from "@/components/ui/card"

// Mock data for object storage buckets - empty for new users
const mockBuckets: any[] = [
  {
    id: "bucket-1",
    name: "project-assets",
    region: "us-east-1",
    size: "12.4 GB",
    createdOn: "2024-04-10T14:23:00Z",
    status: "success",
  },
  {
    id: "bucket-2",
    name: "logs-archive",
    region: "eu-west-1",
    size: "2.1 TB",
    createdOn: "2024-03-22T09:10:00Z",
    status: "success",
  },
  {
    id: "bucket-3",
    name: "media-backups",
    region: "ap-south-1",
    size: "850 MB",
    createdOn: "2024-05-01T18:45:00Z",
    status: "updating",
  },
  {
    id: "bucket-4",
    name: "user-uploads",
    region: "us-west-2",
    size: "0 B",
    createdOn: "2024-05-10T11:00:00Z",
    status: "success",
  },
]

export default function ObjectStoragePage() {
  const [selectedBucket, setSelectedBucket] = useState<any>(null)
  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false)
  const { toast } = useToast()

  const handleDeleteClick = (bucket: any) => {
    setSelectedBucket(bucket)
    setIsDeleteModalOpen(true)
  }

  const handleCopyURL = (bucket: any) => {
    const bucketURL = `https://${bucket.name}.s3.${bucket.region}.amazonaws.com`
    navigator.clipboard.writeText(bucketURL)
    toast({
      title: "URL copied to clipboard",
      description: `Bucket URL for ${bucket.name} has been copied.`,
    })
  }

  const handleEditBucket = (bucket: any) => {
    // Navigate to edit bucket page
    window.location.href = `/storage/object/${bucket.id}/edit`
  }

  const handleAddRule = (bucket: any) => {
    // Navigate to add rule page
    window.location.href = `/storage/object/${bucket.id}/rules/create`
  }

  const handleDeleteConfirm = async () => {
    if (!selectedBucket) return

    try {
      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 1000))
      
      toast({
        title: "Bucket deleted successfully",
        description: `${selectedBucket.name} has been deleted.`,
      })

      // In a real app, you would refresh the data here
      console.log(`Deleting bucket: ${selectedBucket.name}`)
      
      setIsDeleteModalOpen(false)
      setSelectedBucket(null)
    } catch (error) {
      toast({
        title: "Failed to delete bucket",
        description: "An error occurred while deleting the bucket.",
        variant: "destructive",
      })
    }
  }

  const handleCreateBucket = () => {
    // Navigate to create bucket page
    window.location.href = '/storage/object/create'
  }

  const columns = [
    {
      key: "name",
      label: "Name",
      sortable: true,
      searchable: true,
      render: (value: string, row: any) => {
        // Only show link for buckets with "success" status
        if (row.status === "success") {
          return (
            <a
              href={`/storage/object/${row.id}`}
              className="text-primary font-medium hover:underline leading-5"
            >
              {value}
            </a>
          );
        }
        // For "updating" status, just show plain text
        return <div className="font-medium leading-5">{value}</div>;
      },
    },
    {
      key: "region",
      label: "Region",
      sortable: true,
      searchable: true,
      render: (value: string) => (
        <div className="leading-5">{value}</div>
      ),
    },
    {
      key: "size",
      label: "Size",
      sortable: true,
      render: (value: string) => (
        <div className="leading-5">{value}</div>
      ),
    },
    {
      key: "createdOn",
      label: "Creation Date",
      sortable: true,
      render: (value: string) => {
        const date = new Date(value);
        return (
          <div className="text-muted-foreground leading-5">
            {date.toLocaleDateString()} {date.toLocaleTimeString()}
          </div>
        );
      },
    },
    {
      key: "status",
      label: "Status",
      sortable: true,
      render: (value: string) => <StatusBadge status={value} />,
    },
    {
      key: "actions",
      label: "Action",
      align: "right" as const,
      render: (_: any, row: any) => (
        <div className="flex justify-end">
          <ActionMenu
            onCopyURL={() => handleCopyURL(row)}
            onEditBucket={() => handleEditBucket(row)}
            onAddRule={() => handleAddRule(row)}
            onCustomDelete={() => handleDeleteClick(row)}
            resourceName={row.name}
            resourceType="Bucket"
            deleteLabel="Delete Bucket"
          />
        </div>
      ),
    },
  ]

  // Add actions property to each bucket row for DataTable
  const dataWithActions = mockBuckets.map((bucket) => ({ ...bucket, actions: null }))

  const handleRefresh = () => {
    window.location.reload()
  }

  // Custom SVG icon for the empty state
  const objectStorageIcon = (
    <svg width="466" height="219" viewBox="0 0 466 219" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-72 h-auto">
      <g opacity="0.51">
        <path d="M82.1094 46.9C188.579 81.53 307.849 120.86 414.029 156.37C307.559 121.74 188.289 82.41 82.1094 46.9Z" fill="#686767"/>
        <path d="M162.79 11.6801L174.23 15.29L174.2 15.39L162.79 11.6801Z" fill="#686767"/>
        <path d="M185.68 18.9L197.12 22.51L197.02 22.8199L185.61 19.11L185.68 18.9Z" fill="#686767"/>
        <path d="M208.56 26.14L219.99 29.79L219.859 30.2L208.439 26.52L208.56 26.14Z" fill="#686767"/>
        <path d="M231.42 33.4301L242.86 37.08L242.7 37.5601L231.28 33.88L231.42 33.4301Z" fill="#686767"/>
        <path d="M254.29 40.72L265.72 44.37L265.54 44.9301L254.12 41.24L254.29 40.72Z" fill="#686767"/>
        <path d="M277.15 48.01L288.59 51.66L288.38 52.29L276.96 48.61L277.15 48.01Z" fill="#686767"/>
        <path d="M300.021 55.3L311.45 58.95L311.23 59.65L299.811 55.97L300.021 55.3Z" fill="#686767"/>
        <path d="M322.88 62.62L334.3 66.3L334.09 66.95L322.66 63.3101L322.88 62.62Z" fill="#686767"/>
        <path d="M345.719 69.98L357.14 73.66L356.959 74.24L345.52 70.6L345.719 69.98Z" fill="#686767"/>
        <path d="M368.56 77.34L379.98 81.03L379.82 81.53L368.39 77.89L368.56 77.34Z" fill="#686767"/>
        <path d="M391.41 84.71L402.83 88.39L402.69 88.8199L391.26 85.1801L391.41 84.71Z" fill="#686767"/>
        <path d="M414.25 92.0699L425.67 95.75L425.55 96.11L414.12 92.47L414.25 92.0699Z" fill="#686767"/>
        <path d="M437.08 99.46L448.49 103.18L448.44 103.34L437 99.73L437.08 99.46Z" fill="#686767"/>
        <path d="M459.9 106.89L465.73 108.79L459.89 106.95L459.9 106.89Z" fill="#686767"/>
        <path d="M4.41992 89.97L12.0499 92.37C12.0499 92.37 12.0798 92.39 12.0698 92.41C12.0698 92.43 12.0499 92.4401 12.0299 92.4301L4.41992 89.97Z" fill="#686767"/>
        <path d="M19.6803 94.7701L27.3103 97.1701C27.3103 97.1701 27.3903 97.2401 27.3703 97.2901C27.3503 97.3401 27.3003 97.37 27.2503 97.35L19.6403 94.89C19.6103 94.88 19.5903 94.8401 19.6003 94.8101C19.6103 94.7801 19.6503 94.7601 19.6803 94.7701Z" fill="#686767"/>
        <path d="M34.9502 99.5699L42.5802 101.97C42.6602 102 42.7103 102.08 42.6803 102.17C42.6503 102.25 42.5702 102.3 42.4802 102.27L34.8702 99.81C34.8002 99.79 34.7703 99.72 34.7903 99.65C34.8103 99.58 34.8802 99.5499 34.9502 99.5699Z" fill="#686767"/>
        <path d="M50.2093 104.37L57.8393 106.79C57.9393 106.82 57.9993 106.93 57.9693 107.04C57.9393 107.14 57.8293 107.2 57.7193 107.17L50.0993 104.73C49.9993 104.7 49.9494 104.59 49.9794 104.49C50.0094 104.39 50.1193 104.34 50.2193 104.37H50.2093Z" fill="#686767"/>
        <path d="M65.4594 109.21L73.0894 111.63C73.2094 111.67 73.2694 111.79 73.2294 111.91C73.1894 112.03 73.0693 112.09 72.9493 112.05L65.3294 109.61C65.2194 109.57 65.1593 109.46 65.1893 109.35C65.2293 109.24 65.3393 109.18 65.4493 109.21H65.4594Z" fill="#686767"/>
        <path d="M80.7102 114.05L88.3402 116.47C88.4702 116.51 88.5402 116.65 88.5002 116.77C88.4602 116.9 88.3202 116.97 88.2002 116.93L80.5802 114.49C80.4602 114.45 80.3903 114.32 80.4303 114.2C80.4703 114.08 80.6002 114.01 80.7202 114.05H80.7102Z" fill="#686767"/>
        <path d="M95.9597 118.89L103.59 121.31C103.73 121.35 103.81 121.5 103.76 121.64C103.72 121.78 103.57 121.86 103.43 121.81L95.8098 119.37C95.6798 119.33 95.5998 119.19 95.6498 119.05C95.6998 118.91 95.8298 118.84 95.9698 118.89H95.9597Z" fill="#686767"/>
        <path d="M111.21 123.73L118.84 126.15C118.99 126.2 119.07 126.36 119.03 126.51C118.98 126.66 118.82 126.74 118.67 126.7L111.05 124.26C110.91 124.21 110.83 124.06 110.87 123.92C110.91 123.78 111.07 123.7 111.21 123.74V123.73Z" fill="#686767"/>
        <path d="M126.46 128.57L134.09 130.99C134.25 131.04 134.34 131.21 134.29 131.37C134.24 131.53 134.07 131.62 133.91 131.57L126.29 129.13C126.13 129.08 126.05 128.91 126.1 128.76C126.15 128.6 126.32 128.52 126.47 128.57H126.46Z" fill="#686767"/>
        <path d="M141.71 133.41L149.34 135.83C149.51 135.88 149.61 136.07 149.55 136.24C149.5 136.41 149.31 136.51 149.14 136.45L141.52 134.01C141.35 133.96 141.26 133.78 141.31 133.61C141.36 133.44 141.54 133.35 141.71 133.4V133.41Z" fill="#686767"/>
        <path d="M156.97 138.25L164.6 140.67C164.78 140.73 164.89 140.92 164.83 141.11C164.77 141.29 164.58 141.4 164.39 141.34L156.77 138.9C156.59 138.84 156.49 138.65 156.55 138.47C156.61 138.29 156.8 138.19 156.97 138.25Z" fill="#686767"/>
        <path d="M172.22 143.09L179.85 145.51C180.05 145.57 180.15 145.78 180.09 145.98C180.03 146.18 179.82 146.28 179.62 146.22L172 143.78C171.81 143.72 171.71 143.52 171.77 143.33C171.83 143.14 172.03 143.04 172.22 143.1V143.09Z" fill="#686767"/>
        <path d="M187.46 147.94L195.08 150.38C195.27 150.44 195.37 150.64 195.31 150.83C195.25 151.02 195.05 151.12 194.86 151.06L187.23 148.64C187.04 148.58 186.93 148.37 186.99 148.18C187.05 147.99 187.26 147.88 187.45 147.94H187.46Z" fill="#686767"/>
        <path d="M202.7 152.82L210.32 155.26C210.5 155.32 210.59 155.51 210.54 155.68C210.48 155.86 210.3 155.95 210.12 155.9L202.49 153.48C202.31 153.42 202.21 153.23 202.26 153.04C202.32 152.86 202.51 152.76 202.7 152.81V152.82Z" fill="#686767"/>
        <path d="M217.94 157.7L225.56 160.14C225.73 160.19 225.82 160.37 225.76 160.54C225.71 160.71 225.53 160.8 225.37 160.74L217.74 158.32C217.57 158.27 217.47 158.08 217.53 157.91C217.59 157.74 217.77 157.64 217.94 157.7Z" fill="#686767"/>
        <path d="M233.18 162.58L240.8 165.02C240.95 165.07 241.04 165.23 240.99 165.39C240.94 165.54 240.78 165.63 240.62 165.58L232.99 163.16C232.83 163.11 232.74 162.94 232.79 162.78C232.84 162.62 233.01 162.53 233.17 162.58H233.18Z" fill="#686767"/>
        <path d="M248.41 167.46L256.03 169.9C256.17 169.95 256.25 170.1 256.21 170.24C256.16 170.38 256.01 170.46 255.87 170.42L248.24 168C248.09 167.95 248.01 167.79 248.06 167.65C248.11 167.5 248.27 167.42 248.41 167.47V167.46Z" fill="#686767"/>
        <path d="M263.65 172.34L271.27 174.78C271.4 174.82 271.47 174.96 271.43 175.09C271.39 175.22 271.25 175.29 271.12 175.25L263.49 172.83C263.35 172.79 263.28 172.64 263.32 172.5C263.36 172.36 263.51 172.29 263.65 172.33V172.34Z" fill="#686767"/>
        <path d="M278.89 177.22L286.51 179.66C286.63 179.7 286.7 179.83 286.66 179.95C286.62 180.07 286.49 180.14 286.37 180.1L278.74 177.68C278.61 177.64 278.55 177.51 278.59 177.38C278.63 177.25 278.76 177.19 278.89 177.22Z" fill="#686767"/>
        <path d="M294.13 182.1L301.75 184.54C301.86 184.57 301.92 184.69 301.88 184.8C301.85 184.91 301.73 184.97 301.62 184.93L293.99 182.51C293.88 182.47 293.81 182.35 293.85 182.24C293.89 182.13 294.01 182.06 294.12 182.1H294.13Z" fill="#686767"/>
        <path d="M309.36 186.98L316.98 189.43C317.07 189.46 317.12 189.56 317.09 189.65C317.06 189.74 316.96 189.79 316.87 189.76L309.24 187.35C309.14 187.32 309.08 187.21 309.11 187.11C309.14 187.01 309.25 186.95 309.35 186.98H309.36Z" fill="#686767"/>
        <path d="M324.59 191.89L332.2 194.35C332.26 194.37 332.29 194.43 332.27 194.49C332.25 194.55 332.19 194.58 332.13 194.56L324.5 192.16C324.42 192.14 324.38 192.05 324.4 191.98C324.42 191.91 324.51 191.86 324.58 191.88L324.59 191.89Z" fill="#686767"/>
        <path d="M339.82 196.81L347.43 199.27C347.43 199.27 347.47 199.31 347.46 199.33C347.46 199.36 347.42 199.37 347.4 199.36L339.77 196.96C339.77 196.96 339.7 196.9 339.72 196.86C339.73 196.82 339.78 196.79 339.82 196.81Z" fill="#686767"/>
        <path d="M355.04 201.72L359.85 203.28L355.02 201.76C355.02 201.76 355 201.75 355.01 201.74C355.01 201.73 355.02 201.72 355.03 201.73L355.04 201.72Z" fill="#686767"/>
        <g opacity="0.61">
          <path d="M436.881 75.92L433.481 78.03C433.481 78.03 433.461 78.03 433.451 78.03C433.451 78.02 433.451 78.01 433.451 78L436.871 75.92H436.881Z" fill="#686767"/>
          <path d="M426.681 82.26L419.881 86.49C419.831 86.52 419.761 86.5099 419.731 86.4599C419.701 86.4099 419.711 86.34 419.761 86.31L426.601 82.15C426.631 82.13 426.671 82.15 426.691 82.17C426.711 82.2 426.691 82.24 426.671 82.26H426.681Z" fill="#686767"/>
          <path d="M413.091 90.72L406.291 94.9399C406.201 94.9999 406.081 94.97 406.031 94.88C405.981 94.79 406.001 94.67 406.091 94.62L412.931 90.4599C413.001 90.4199 413.091 90.44 413.141 90.51C413.181 90.58 413.161 90.67 413.091 90.72Z" fill="#686767"/>
          <path d="M399.471 99.1501L392.661 103.35C392.561 103.41 392.421 103.38 392.361 103.28C392.301 103.18 392.331 103.04 392.431 102.98L399.261 98.8001C399.361 98.7401 399.481 98.77 399.541 98.87C399.601 98.97 399.571 99.0901 399.471 99.1501Z" fill="#686767"/>
          <path d="M385.851 107.55L379.041 111.75C378.921 111.82 378.771 111.79 378.701 111.67C378.631 111.55 378.661 111.4 378.781 111.33L385.611 107.15C385.721 107.08 385.861 107.12 385.931 107.23C386.001 107.34 385.961 107.48 385.851 107.55Z" fill="#686767"/>
          <path d="M372.22 115.96L365.41 120.16C365.28 120.24 365.11 120.2 365.03 120.07C364.95 119.94 364.99 119.77 365.12 119.69L371.95 115.51C372.07 115.43 372.24 115.47 372.31 115.6C372.38 115.73 372.35 115.89 372.22 115.96Z" fill="#686767"/>
          <path d="M358.591 124.37L351.781 128.57C351.641 128.66 351.451 128.61 351.361 128.47C351.271 128.33 351.321 128.14 351.461 128.05L358.291 123.87C358.431 123.79 358.611 123.83 358.691 123.97C358.771 124.11 358.731 124.29 358.591 124.37Z" fill="#686767"/>
          <path d="M344.971 132.78L338.161 136.98C338.001 137.08 337.791 137.03 337.701 136.87C337.601 136.71 337.651 136.5 337.811 136.41L344.641 132.23C344.791 132.14 344.991 132.18 345.081 132.34C345.171 132.49 345.131 132.69 344.971 132.78Z" fill="#686767"/>
          <path d="M331.34 141.19L324.53 145.39C324.36 145.5 324.13 145.44 324.03 145.27C323.92 145.1 323.98 144.87 324.15 144.77L330.98 140.59C331.15 140.49 331.36 140.54 331.46 140.71C331.56 140.88 331.51 141.09 331.34 141.19Z" fill="#686767"/>
          <path d="M317.711 149.58L310.881 153.76C310.711 153.86 310.501 153.81 310.391 153.64C310.291 153.47 310.341 153.26 310.511 153.15L317.321 148.95C317.491 148.84 317.721 148.9 317.831 149.07C317.941 149.24 317.881 149.47 317.711 149.58Z" fill="#686767"/>
          <path d="M304.051 157.94L297.221 162.12C297.071 162.21 296.871 162.17 296.771 162.01C296.681 161.86 296.721 161.66 296.881 161.57L303.691 157.37C303.851 157.27 304.061 157.32 304.161 157.48C304.261 157.64 304.211 157.85 304.051 157.95V157.94Z" fill="#686767"/>
          <path d="M290.391 166.3L283.561 170.48C283.421 170.56 283.241 170.52 283.161 170.38C283.081 170.24 283.121 170.06 283.261 169.98L290.071 165.78C290.221 165.69 290.411 165.74 290.501 165.88C290.591 166.03 290.541 166.22 290.401 166.31L290.391 166.3Z" fill="#686767"/>
          <path d="M276.74 174.65L269.91 178.83C269.79 178.91 269.62 178.87 269.55 178.74C269.48 178.61 269.51 178.45 269.64 178.38L276.45 174.18C276.58 174.1 276.75 174.14 276.83 174.27C276.91 174.4 276.87 174.57 276.74 174.65Z" fill="#686767"/>
          <path d="M263.081 183.01L256.251 187.19C256.141 187.26 256.001 187.22 255.931 187.11C255.861 187 255.901 186.86 256.011 186.79L262.821 182.59C262.941 182.52 263.091 182.55 263.161 182.67C263.231 182.79 263.201 182.94 263.081 183.01Z" fill="#686767"/>
          <path d="M249.421 191.37L242.591 195.55C242.491 195.61 242.371 195.58 242.311 195.48C242.251 195.38 242.281 195.26 242.381 195.2L249.191 191C249.291 190.94 249.431 190.97 249.491 191.07C249.551 191.17 249.521 191.31 249.421 191.37Z" fill="#686767"/>
          <path d="M235.761 199.73L228.921 203.89C228.851 203.93 228.761 203.91 228.711 203.84C228.671 203.77 228.691 203.68 228.761 203.63L235.561 199.41C235.651 199.35 235.771 199.38 235.821 199.47C235.881 199.56 235.851 199.68 235.761 199.73Z" fill="#686767"/>
          <path d="M222.081 208.04L215.241 212.19C215.241 212.19 215.171 212.19 215.151 212.17C215.131 212.14 215.151 212.1 215.171 212.08L221.971 207.85C222.021 207.82 222.091 207.83 222.121 207.88C222.151 207.93 222.141 208 222.091 208.03L222.081 208.04Z" fill="#686767"/>
          <path d="M208.391 216.35L204.971 218.43L208.371 216.32C208.371 216.32 208.391 216.32 208.401 216.32C208.401 216.33 208.401 216.34 208.401 216.35H208.391Z" fill="#686767"/>
        </g>
        <path d="M372.77 50.86L369.32 52.88C369.32 52.88 369.3 52.88 369.29 52.88C369.29 52.87 369.29 52.86 369.29 52.85L372.76 50.86H372.77Z" fill="#686767"/>
        <path d="M362.28 57L355.24 61.13C355.19 61.16 355.12 61.1399 355.09 61.0899C355.06 61.0399 355.08 60.9699 355.13 60.9399L362.21 56.89C362.24 56.87 362.28 56.89 362.3 56.91C362.32 56.94 362.3 56.98 362.28 57Z" fill="#686767"/>
        <path d="M348.2 65.25L341.16 69.37C341.07 69.42 340.95 69.39 340.9 69.3C340.85 69.21 340.88 69.09 340.97 69.04L348.05 64.99C348.12 64.95 348.21 64.97 348.25 65.05C348.29 65.12 348.27 65.21 348.2 65.25Z" fill="#686767"/>
        <path d="M334.11 73.48L327.06 77.5799C326.96 77.6399 326.82 77.61 326.76 77.5C326.7 77.39 326.73 77.2599 326.84 77.1999L333.91 73.12C334.01 73.06 334.13 73.0999 334.19 73.1899C334.25 73.2899 334.21 73.4099 334.12 73.4699L334.11 73.48Z" fill="#686767"/>
        <path d="M320 81.68L312.95 85.78C312.83 85.85 312.68 85.8099 312.61 85.6899C312.54 85.5699 312.58 85.42 312.7 85.35L319.77 81.27C319.88 81.21 320.02 81.24 320.09 81.36C320.16 81.48 320.12 81.61 320.01 81.68H320Z" fill="#686767"/>
        <path d="M305.9 89.88L298.85 93.98C298.72 94.06 298.55 94.01 298.47 93.88C298.39 93.75 298.44 93.58 298.57 93.5L305.64 89.4201C305.77 89.3501 305.93 89.3901 306 89.5201C306.07 89.6501 306.03 89.81 305.9 89.88Z" fill="#686767"/>
        <path d="M291.8 98.0799L284.75 102.18C284.6 102.27 284.41 102.22 284.33 102.07C284.24 101.92 284.29 101.73 284.44 101.65L291.51 97.5699C291.65 97.4899 291.83 97.54 291.91 97.68C291.99 97.82 291.94 97.9999 291.8 98.0799Z" fill="#686767"/>
        <path d="M277.69 106.29L270.64 110.39C270.48 110.48 270.27 110.43 270.18 110.27C270.09 110.11 270.14 109.9 270.3 109.81L277.37 105.73C277.52 105.64 277.72 105.69 277.81 105.85C277.9 106 277.85 106.2 277.69 106.29Z" fill="#686767"/>
        <path d="M263.59 114.49L256.54 118.59C256.36 118.69 256.14 118.63 256.04 118.46C255.94 118.29 256 118.06 256.17 117.96L263.24 113.88C263.41 113.78 263.62 113.84 263.72 114.01C263.82 114.18 263.76 114.39 263.59 114.49Z" fill="#686767"/>
        <path d="M249.479 122.68L242.409 126.76C242.239 126.86 242.019 126.8 241.929 126.63C241.829 126.46 241.889 126.25 242.059 126.15L249.109 122.05C249.289 121.95 249.509 122.01 249.609 122.18C249.709 122.36 249.649 122.58 249.479 122.68Z" fill="#686767"/>
        <path d="M235.34 130.83L228.27 134.91C228.12 135 227.92 134.95 227.83 134.79C227.74 134.63 227.79 134.44 227.95 134.35L235 130.25C235.16 130.16 235.37 130.21 235.46 130.37C235.55 130.53 235.5 130.74 235.34 130.83Z" fill="#686767"/>
        <path d="M221.209 138.98L214.139 143.06C213.999 143.14 213.819 143.09 213.739 142.95C213.659 142.81 213.709 142.63 213.849 142.55L220.899 138.45C221.049 138.36 221.239 138.41 221.319 138.56C221.409 138.71 221.359 138.9 221.209 138.98Z" fill="#686767"/>
        <path d="M207.069 147.13L200 151.21C199.87 151.28 199.71 151.24 199.64 151.11C199.57 150.98 199.61 150.82 199.74 150.75L206.79 146.65C206.92 146.57 207.09 146.62 207.17 146.75C207.25 146.88 207.199 147.05 207.069 147.13Z" fill="#686767"/>
        <path d="M192.939 155.28L185.869 159.36C185.759 159.42 185.61 159.39 185.55 159.27C185.49 159.16 185.52 159.02 185.64 158.95L192.689 154.85C192.809 154.78 192.96 154.82 193.03 154.94C193.1 155.06 193.059 155.21 192.939 155.28Z" fill="#686767"/>
        <path d="M178.81 163.43L171.74 167.51C171.64 167.57 171.52 167.53 171.46 167.43C171.4 167.33 171.44 167.21 171.53 167.15L178.58 163.05C178.68 162.99 178.82 163.02 178.88 163.13C178.94 163.24 178.91 163.37 178.8 163.43H178.81Z" fill="#686767"/>
        <path d="M164.67 171.58L157.59 175.63C157.52 175.67 157.43 175.65 157.38 175.57C157.34 175.5 157.36 175.41 157.43 175.36L164.47 171.24C164.56 171.19 164.68 171.22 164.73 171.31C164.78 171.4 164.75 171.52 164.66 171.57L164.67 171.58Z" fill="#686767"/>
        <path d="M150.51 179.69L143.43 183.74C143.43 183.74 143.36 183.74 143.34 183.72C143.32 183.7 143.34 183.65 143.36 183.63L150.4 179.5C150.45 179.47 150.52 179.49 150.55 179.54C150.58 179.59 150.56 179.66 150.51 179.69Z" fill="#686767"/>
        <path d="M136.35 187.79L132.88 189.78L136.33 187.76C136.33 187.76 136.35 187.76 136.36 187.76C136.37 187.76 136.36 187.78 136.36 187.79H136.35Z" fill="#686767"/>
        <path d="M308.65 25.79C231.05 69.59 143.76 118.28 65.71 161.27C143.3 117.47 230.6 68.79 308.65 25.79Z" fill="#686767"/>
        <path d="M244.541 0.719971L241.051 2.67004C241.051 2.67004 241.031 2.67004 241.021 2.67004C241.021 2.66004 241.021 2.65001 241.021 2.64001L244.531 0.72998L244.541 0.719971Z" fill="#686767"/>
        <path d="M233.88 6.68004L226.71 10.6899C226.66 10.7199 226.59 10.7 226.56 10.65C226.53 10.6 226.55 10.53 226.6 10.5L233.81 6.56993C233.84 6.54993 233.88 6.56996 233.9 6.59996C233.92 6.62996 233.9 6.66993 233.88 6.68993V6.68004Z" fill="#686767"/>
        <path d="M219.54 14.6899L212.37 18.6899C212.28 18.7399 212.16 18.71 212.11 18.62C212.06 18.53 212.09 18.41 212.18 18.36L219.39 14.42C219.46 14.38 219.55 14.41 219.59 14.48C219.63 14.55 219.6 14.64 219.53 14.68L219.54 14.6899Z" fill="#686767"/>
        <path d="M205.19 22.68L198.011 26.66C197.901 26.72 197.77 26.6799 197.71 26.5699C197.65 26.4599 197.691 26.33 197.801 26.27L205.001 22.31C205.101 22.26 205.221 22.29 205.281 22.39C205.331 22.49 205.3 22.61 205.2 22.67L205.19 22.68Z" fill="#686767"/>
        <path d="M190.83 30.64L183.65 34.62C183.53 34.69 183.38 34.64 183.31 34.52C183.24 34.4 183.29 34.2501 183.41 34.1801L190.61 30.22C190.72 30.16 190.87 30.2001 190.93 30.3101C190.99 30.4201 190.95 30.56 190.84 30.63L190.83 30.64Z" fill="#686767"/>
        <path d="M176.46 38.61L169.28 42.59C169.15 42.66 168.98 42.62 168.9 42.48C168.83 42.35 168.87 42.18 169.01 42.1L176.21 38.14C176.34 38.07 176.5 38.12 176.57 38.24C176.64 38.36 176.59 38.53 176.47 38.6L176.46 38.61Z" fill="#686767"/>
        <path d="M162.101 46.57L154.921 50.5501C154.771 50.6301 154.581 50.5801 154.501 50.4301C154.421 50.2801 154.471 50.09 154.621 50.01L161.821 46.0501C161.961 45.9701 162.141 46.0201 162.221 46.1701C162.301 46.3101 162.251 46.49 162.111 46.57H162.101Z" fill="#686767"/>
        <path d="M147.73 54.53L140.55 58.51C140.39 58.6 140.18 58.54 140.09 58.38C140 58.22 140.06 58.01 140.22 57.92L147.42 53.9599C147.58 53.8699 147.77 53.9299 147.86 54.0899C147.95 54.2499 147.89 54.44 147.73 54.53Z" fill="#686767"/>
        <path d="M133.36 62.5L126.18 66.48C126 66.58 125.78 66.51 125.68 66.34C125.58 66.16 125.65 65.94 125.82 65.84L133.02 61.88C133.19 61.79 133.4 61.85 133.5 62.02C133.59 62.19 133.53 62.4 133.36 62.5Z" fill="#686767"/>
        <path d="M118.99 70.4499L111.79 74.41C111.62 74.5 111.4 74.44 111.31 74.27C111.22 74.1 111.28 73.88 111.45 73.79L118.63 69.81C118.81 69.71 119.03 69.7799 119.13 69.9499C119.23 70.1199 119.16 70.3499 118.99 70.4499Z" fill="#686767"/>
        <path d="M104.6 78.36L97.4 82.3199C97.24 82.4099 97.0499 82.3499 96.9599 82.1899C96.8699 82.0299 96.9299 81.84 97.0899 81.75L104.27 77.77C104.43 77.68 104.64 77.74 104.73 77.9C104.82 78.06 104.76 78.27 104.6 78.36Z" fill="#686767"/>
        <path d="M90.2104 86.27L83.0105 90.23C82.8705 90.31 82.6904 90.26 82.6104 90.11C82.5304 89.97 82.5804 89.79 82.7204 89.71L89.9005 85.73C90.0505 85.65 90.2404 85.7 90.3204 85.85C90.4004 86 90.3504 86.19 90.2004 86.27H90.2104Z" fill="#686767"/>
        <path d="M75.8108 94.1801L68.6107 98.14C68.4807 98.21 68.3208 98.1601 68.2508 98.0401C68.1808 97.9201 68.2307 97.7501 68.3507 97.6801L75.5308 93.7C75.6608 93.63 75.8308 93.6701 75.9108 93.8101C75.9808 93.9401 75.9408 94.11 75.8008 94.19L75.8108 94.1801Z" fill="#686767"/>
        <path d="M61.42 102.09L54.2199 106.05C54.1099 106.11 53.9599 106.07 53.8999 105.96C53.8399 105.85 53.8799 105.7 53.9899 105.64L61.17 101.66C61.29 101.59 61.4399 101.64 61.5099 101.76C61.5799 101.88 61.53 102.03 61.41 102.1L61.42 102.09Z" fill="#686767"/>
        <path d="M47.0203 110L39.8203 113.96C39.7203 114.01 39.6004 113.98 39.5404 113.88C39.4904 113.78 39.5203 113.66 39.6203 113.6L46.8004 109.62C46.9104 109.56 47.0403 109.6 47.1003 109.71C47.1603 109.82 47.1203 109.95 47.0103 110.01L47.0203 110Z" fill="#686767"/>
        <path d="M32.6301 117.92L25.4201 121.85C25.3501 121.89 25.2601 121.86 25.2201 121.79C25.1801 121.72 25.2101 121.63 25.2801 121.59L32.45 117.59C32.54 117.54 32.66 117.57 32.71 117.66C32.76 117.75 32.7301 117.87 32.6401 117.92H32.6301Z" fill="#686767"/>
        <path d="M18.2103 125.78L11.0004 129.71C11.0004 129.71 10.9304 129.71 10.9104 129.68C10.8904 129.65 10.9103 129.61 10.9403 129.59L18.1104 125.58C18.1604 125.55 18.2304 125.57 18.2604 125.62C18.2904 125.67 18.2703 125.74 18.2203 125.77L18.2103 125.78Z" fill="#686767"/>
        <path d="M3.79028 133.64L0.280273 135.55L3.77026 133.6C3.77026 133.6 3.79029 133.6 3.80029 133.6C3.80029 133.61 3.80029 133.62 3.80029 133.63L3.79028 133.64Z" fill="#686767"/>
      </g>
      <path d="M296.33 29.25C296.33 30.33 296.33 31.41 296.33 32.49C296.33 35.43 296.33 38.38 296.33 41.32C296.33 45.69 296.33 50.0501 296.33 54.4201C296.33 59.7701 296.33 65.11 296.33 70.46C296.33 76.34 296.33 82.23 296.33 88.11C296.33 93.99 296.33 100.07 296.33 106.05C296.33 111.69 296.33 117.32 296.33 122.96C296.33 127.81 296.33 132.66 296.33 137.51C296.33 141.13 296.33 144.76 296.33 148.38C296.33 149.32 296.33 150.26 296.33 151.2C296.33 153.48 295.47 155.54 294.61 157.63C294.06 158.95 293.38 160.08 292.45 161.19C288.88 165.42 283.58 167.94 278.57 170.06C273.96 172.02 269.14 173.47 264.25 174.58C262.93 174.88 261.6 175.16 260.27 175.42C251.55 177.11 242.86 177.52 234 177.31C228.73 177.19 223.49 177.02 218.25 176.38C214.15 175.88 210.09 175.13 206.1 174.07C199.6 172.34 193.28 169.87 187.41 166.57C184.63 165.01 181.94 163.21 179.67 160.96C177.74 159.05 175.53 156.29 174.86 153.6C174.53 152.28 174.84 150.4 174.84 149.02V30.2C190.94 30.2 206.26 37.14 222.36 37.27C227.3 37.31 232.28 37.16 237.11 36.1C249.08 33.47 259.63 25.34 271.86 24.64C275.49 24.43 279.12 24.9 282.73 25.36C286.15 25.8 289.56 26.2401 292.98 26.6801C294.35 26.8601 297.04 28.07 296.32 29.25H296.33Z" fill="white"/>
        <path d="M235.07 51.3101C268.804 51.3101 296.15 40.3141 296.15 26.75C296.15 13.1859 268.804 2.18994 235.07 2.18994C201.337 2.18994 173.99 13.1859 173.99 26.75C173.99 40.3141 201.337 51.3101 235.07 51.3101Z" fill="white"/>
        <path d="M235.07 51.8101C201.12 51.8101 173.49 40.57 173.49 26.75C173.49 12.93 201.11 1.68994 235.07 1.68994C269.03 1.68994 296.65 12.93 296.65 26.75C296.65 40.57 269.03 51.8101 235.07 51.8101ZM235.07 2.68994C201.67 2.68994 174.49 13.48 174.49 26.75C174.49 40.02 201.66 50.8101 235.07 50.8101C268.48 50.8101 295.65 40.02 295.65 26.75C295.65 13.48 268.48 2.68994 235.07 2.68994Z" fill="#070101"/>
        <path d="M270.33 92.41V133.09C270.33 139.69 264.98 145.04 258.38 145.04H220.78C215.11 145.04 210.51 140.44 210.51 134.77V82.62C210.51 77.08 215 72.59 220.54 72.59H248.65" fill="white"/>
        <path d="M258.38 145.54H220.78C214.84 145.54 210.01 140.71 210.01 134.77V82.62C210.01 76.81 214.74 72.08 220.54 72.08H248.65V73.08H220.54C215.28 73.08 211.01 77.36 211.01 82.62V134.77C211.01 140.16 215.39 144.54 220.78 144.54H258.38C264.69 144.54 269.83 139.4 269.83 133.09V92.41H270.83V133.09C270.83 139.95 265.25 145.54 258.38 145.54Z" fill="#070101"/>
        <path d="M248.141 72.79V89.45C248.141 91.27 249.621 92.75 251.441 92.75H270.331L248.141 72.79Z" fill="#52B54A"/>
        <path d="M271.631 93.25H251.441C249.351 93.25 247.641 91.55 247.641 89.45V71.67L271.631 93.25ZM248.641 73.91V89.45C248.641 90.99 249.901 92.25 251.441 92.25H269.031L248.651 73.91H248.641Z" fill="#070101"/>
        <path d="M250.39 99.75H229.64C226.762 99.75 224.43 102.083 224.43 104.96V125.71C224.43 128.587 226.762 130.92 229.64 130.92H250.39C253.267 130.92 255.6 128.587 255.6 125.71V104.96C255.6 102.083 253.267 99.75 250.39 99.75Z" fill="#52B54A"/>
        <path d="M250.39 131.41H229.63C226.48 131.41 223.92 128.85 223.92 125.7V104.95C223.92 101.8 226.48 99.24 229.63 99.24H250.39C253.54 99.24 256.1 101.8 256.1 104.95V125.7C256.1 128.85 253.54 131.41 250.39 131.41ZM229.64 100.25C227.05 100.25 224.93 102.36 224.93 104.96V125.71C224.93 128.3 227.04 130.42 229.64 130.42H250.4C252.99 130.42 255.11 128.31 255.11 125.71V104.96C255.11 102.37 253 100.25 250.4 100.25H229.64Z" fill="#070101"/>
        <path d="M248.561 108.81H232.641C232.061 108.81 231.591 109.28 231.591 109.86V111.56C231.591 112.14 232.061 112.61 232.641 112.61H248.561C249.141 112.61 249.611 112.14 249.611 111.56V109.86C249.611 109.28 249.141 108.81 248.561 108.81Z" fill="white"/>
        <path d="M248.561 113.12H232.651C231.791 113.12 231.101 112.42 231.101 111.57V109.87C231.101 109.01 231.801 108.32 232.651 108.32H248.561C249.421 108.32 250.111 109.02 250.111 109.87V111.57C250.111 112.43 249.411 113.12 248.561 113.12ZM232.651 109.31C232.341 109.31 232.101 109.56 232.101 109.86V111.56C232.101 111.87 232.351 112.11 232.651 112.11H248.561C248.871 112.11 249.111 111.86 249.111 111.56V109.86C249.111 109.55 248.861 109.31 248.561 109.31H232.651Z" fill="#070101"/>
        <path d="M247.091 118.77H233.191C232.611 118.77 232.141 119.24 232.141 119.82V121.35C232.141 121.93 232.611 122.4 233.191 122.4H247.091C247.67 122.4 248.141 121.93 248.141 121.35V119.82C248.141 119.24 247.67 118.77 247.091 118.77Z" fill="white"/>
        <path d="M247.09 122.89H233.2C232.34 122.89 231.65 122.19 231.65 121.34V119.82C231.65 118.96 232.35 118.27 233.2 118.27H247.09C247.95 118.27 248.64 118.97 248.64 119.82V121.34C248.64 122.2 247.94 122.89 247.09 122.89ZM233.2 119.27C232.89 119.27 232.65 119.52 232.65 119.82V121.34C232.65 121.65 232.9 121.89 233.2 121.89H247.09C247.4 121.89 247.64 121.64 247.64 121.34V119.82C247.64 119.51 247.39 119.27 247.09 119.27H233.2Z" fill="#070101"/>
        <path d="M274.99 139.16C274.99 139.16 309.4 132.5 308.29 84.1H294.75L315.62 56.35L337.6 83.66H323.17C323.17 83.66 326.72 131.17 281.88 146.71" fill="white"/>
        <path d="M282.031 147.19L281.701 146.24C325.651 131.01 322.691 84.17 322.661 83.7L322.621 83.16H336.541L315.621 57.17L295.741 83.61H308.771V84.1C309.891 132.36 275.421 139.59 275.081 139.66L274.891 138.68C275.231 138.61 308.641 131.57 307.801 84.61H293.751L315.611 55.55L338.651 84.17H323.701C323.901 89.49 324.161 132.6 282.051 147.19H282.031Z" fill="#070101"/>
        <path d="M204.9 81.7C176.45 76.23 174.25 63.3599 174.17 62.8199V31.37H175.16V62.75C175.17 62.8 177.42 75.4 205.08 80.72L204.89 81.7H204.9Z" fill="#A3A3A3"/>
        <path d="M267.15 81.7L266.92 80.73C296.5 73.6 296.39 62.01 296.38 61.89L295.64 28.2L296.64 28.1801L297.38 61.85C297.41 62.34 297.67 74.34 267.15 81.7Z" fill="#A3A3A3"/>
        <path d="M273.36 88.45L273.32 87.45C274.4 87.4 275.48 87.18 276.3 86.99C282.43 85.56 292.48 80.6 295.65 74.05C296.97 71.32 296.99 68.54 295.7 65.8L296.61 65.37C298.03 68.4 298.02 71.46 296.56 74.48C293.06 81.71 282.42 86.58 276.54 87.96C275.68 88.16 274.54 88.4 273.37 88.45H273.36Z" fill="#A3A3A3"/>
        <path d="M203.98 90C172.78 83.34 173.9 71.5 173.97 71V63.95H174.97V71.0699C174.95 71.2399 174.03 82.59 204.2 89.03L203.99 90.01L203.98 90Z" fill="#A3A3A3"/>
        <path d="M204.89 132.07C173.91 125.55 173.93 110.6 173.94 109.97V72.79H174.94V109.98C174.94 110.14 175.01 124.76 205.09 131.09L204.88 132.07H204.89Z" fill="#A3A3A3"/>
        <path d="M206.03 140.75C185.89 137.38 178.37 130.11 175.67 126.08C174.68 124.6 174.16 122.84 174.16 120.99V111.65H175.16V120.99C175.16 122.64 175.62 124.2 176.5 125.52C179.1 129.42 186.42 136.45 206.19 139.76L206.02 140.75H206.03Z" fill="#A3A3A3"/>
        <path d="M236.08 178.26C199.72 178.26 183.5 166.62 177.06 159.65C175.2 157.63 174.17 155.02 174.17 152.28V30.2H175.17V152.28C175.17 154.76 176.1 157.14 177.8 158.97C184.13 165.82 200.11 177.26 236.09 177.26C236.33 177.26 236.57 177.26 236.81 177.26C237.27 177.25 283.42 177.42 294.51 157.58C295.32 156.13 295.75 154.46 295.75 152.74V140.83H296.75V152.74C296.75 154.63 296.28 156.47 295.39 158.07C290.6 166.64 279.27 172.64 261.72 175.91C248.71 178.33 236.94 178.26 236.82 178.26C236.58 178.26 236.34 178.26 236.1 178.26H236.08Z" fill="#070101"/>
        <path d="M297.38 88.78H296.38V124.25H297.38V88.78Z" fill="#070101"/>
        <path d="M274.47 131.37L274.08 130.45C284.88 125.89 290.38 120.99 293.08 117.68C296 114.12 296.38 111.6 296.38 111.57L297.37 111.7C297.31 112.13 295.71 122.38 274.46 131.36L274.47 131.37Z" fill="#A3A3A3"/>
        <path d="M235.07 45.14C265.628 45.14 290.4 35.9394 290.4 24.59C290.4 13.2405 265.628 4.04004 235.07 4.04004C204.512 4.04004 179.74 13.2405 179.74 24.59C179.74 35.9394 204.512 45.14 235.07 45.14Z" fill="#52B54A"/>
        <path d="M235.07 47.0601C262.966 47.0601 285.58 37.9669 285.58 26.75C285.58 15.5331 262.966 6.43994 235.07 6.43994C207.175 6.43994 184.561 15.5331 184.561 26.75C184.561 37.9669 207.175 47.0601 235.07 47.0601Z" fill="white"/>
              <path d="M235.07 47.5601C206.94 47.5601 184.061 38.22 184.061 26.75C184.061 15.28 206.94 5.93994 235.07 5.93994C263.2 5.93994 286.08 15.28 286.08 26.75C286.08 38.22 263.2 47.5601 235.07 47.5601ZM235.07 6.93994C207.5 6.93994 185.061 15.83 185.061 26.75C185.061 37.67 207.49 46.5601 235.07 46.5601C262.65 46.5601 285.08 37.67 285.08 26.75C285.08 15.83 262.65 6.93994 235.07 6.93994Z" fill="#070101"/>
    </svg>
  )

  return (
    <PageLayout 
      title="Object Storage" 
      description="Manage your object storage buckets and files"
      headerActions={
        mockBuckets.length > 0 && (
          <Button onClick={handleCreateBucket}>
            Create Bucket
          </Button>
        )
      }
    >
      <div className="space-y-6">
        {mockBuckets.length === 0 ? (
          <Card className="mt-8">
            <CardContent>
              <EmptyState
                title="No Storage Buckets Yet"
                description="Create your first storage bucket to start storing and managing your files in the cloud. Storage buckets provide scalable object storage with built-in redundancy and security."
                actionText="Create Your First Bucket"
                onAction={handleCreateBucket}
                icon={objectStorageIcon}
              />
            </CardContent>
          </Card>
        ) : (
          <ShadcnDataTable
            columns={columns}
            data={dataWithActions}
            searchableColumns={["name", "region"]}
            defaultSort={{ column: "createdOn", direction: "desc" }}
            enableSearch={true}
            enablePagination={true}
            onRefresh={handleRefresh}
          />
        )}
      </div>

      <DeleteConfirmationModal
        isOpen={isDeleteModalOpen}
        onClose={() => setIsDeleteModalOpen(false)}
        resourceName={selectedBucket?.name || ""}
        resourceType="Bucket"
        onConfirm={handleDeleteConfirm}
      />
    </PageLayout>
  )
}
